<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.4">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2025-01-24T15:39:23+08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Tomorrow’s Blog</title><entry><title type="html"></title><link href="http://localhost:4000/2025/01/24/2025-1-23-PRD-%E6%80%9D%E8%B7%AF%E6%A8%A1%E7%89%88%E9%85%8D%E7%BD%AE/" rel="alternate" type="text/html" title="" /><published>2025-01-24T15:39:23+08:00</published><updated>2025-01-24T15:39:23+08:00</updated><id>http://localhost:4000/2025/01/24/2025-1-23-%E3%80%90PRD%E3%80%91%E6%80%9D%E8%B7%AF%E6%A8%A1%E7%89%88%E9%85%8D%E7%BD%AE</id><content type="html" xml:base="http://localhost:4000/2025/01/24/2025-1-23-PRD-%E6%80%9D%E8%B7%AF%E6%A8%A1%E7%89%88%E9%85%8D%E7%BD%AE/"><![CDATA[<h2 id="1-变更记录">1 变更记录</h2>

<table>
  <thead>
    <tr>
      <th><strong>序号</strong></th>
      <th><strong>日期</strong></th>
      <th><strong>变更人</strong></th>
      <th><strong>修改内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td>2025/01/15</td>
      <td>何心</td>
      <td>新建文档</td>
    </tr>
  </tbody>
</table>

<h2 id="2-需求背景"><strong>2 需求背景</strong></h2>

<ol>
  <li>准确意图下获取数据的准确率提升至90%是BA Copilot2025年的OP</li>
  <li>围绕UGC创新者模式，BA Copilot计划构建Data Box，即数据接入与语义化模块，对于接入的数据也需要保证90%的准确率</li>
  <li>产研对于意图识别Agent的目标达成一致，暂时只将思路模板配置开放给用户</li>
</ol>

<h2 id="3-需求目标">3 需求目标</h2>

<p>思路模板配置：提升智能服务水平的一项必要能力，服务于不同模块的定制化分析思路配置。</p>

<h2 id="4-功能列表">4 功能列表</h2>

<table>
  <thead>
    <tr>
      <th>模块</th>
      <th>优先级</th>
      <th>子模块</th>
      <th>主要功能</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>思路模板展示</td>
      <td>P0</td>
      <td>模板列表</td>
      <td>展示配置的模板，可新增、修改、删除</td>
    </tr>
    <tr>
      <td>思路模板工作流配置</td>
      <td>P0</td>
      <td>默认画布展示内容</td>
      <td>画布初始化展示信息</td>
    </tr>
    <tr>
      <td>P0</td>
      <td>节点页面</td>
      <td>可创建节点展示页面，点击节点后在画布中添加节点</td>
      <td> </td>
    </tr>
    <tr>
      <td>P0</td>
      <td>配置模板工作流</td>
      <td>在画布中配置工作流，包括触发规则及对应工作流</td>
      <td> </td>
    </tr>
    <tr>
      <td>P0</td>
      <td>流程预览</td>
      <td>试运行时会按配置规则进行配置校验，若无错误可进行效果预览</td>
      <td> </td>
    </tr>
    <tr>
      <td>P0</td>
      <td>模板发布</td>
      <td>发布配置成功的模板，回写模板信息至MBA</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="5-产品方案">5 产品方案</h2>

<h3 id="51-产品方案">5.1 产品方案</h3>

<table>
  <thead>
    <tr>
      <th><strong>页面</strong></th>
      <th><strong>功能说明</strong></th>
      <th><strong>原型图</strong></th>
      <th><strong>UI</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>思路模板展示页面</td>
      <td>该页面为思路模板配置、管理页面，可新增、修改、删除规则。（图1）页面权限：展示用户具有<strong>模块管理权限</strong>的思路模板展示规则：默认展示用户拥有<strong>模块管理权限</strong>的全部模板可通过下拉框选中模块筛选模板，可多选，可全选，可搜索（图2）按照修改时间倒序展示字段说明：Module编号：如Module101、Module108Module名称：如场景化工序匹配、业务Cross分析模板编号：新建后会创建模板编号，唯一值模板名称：新建时用户会输入模板名称，10字以内模板描述：新建时用户会输入模板描述，50字以内，超长部分省略展示模板状态：分为草稿、已发布、已失效（databox指标维度变更后会触发）规则优先级：模板的优先级配置，当同时满足时确认执行优先级，数字越小优先级越高更新时间：模板创建/修改的最新时间更新人：模板创建/修改的更新人MISIDModule和规则的关系：同一个模块可配置多个模板，已发布的模板会在MBA中回写至模块配置中增删改新建：点击【新建思路模板】后，弹窗新建模板页面（图3），点击确定后，进入进入此工作流配置页面删除：点击【删除】后，展示弹窗提示是否确认删除此工作流，确认后才可删除，弹窗内容：（图4）删除并跳转至模板配置：点击后删除此模板并且跳转至MBA思路模板配置页删除后不会对线上在行模板有影响，需重新发布线上才会生效MBA思路模板配置页中已删除的模板右上角展示提示icon，需要解除绑定后才可以重新发布修改：点击【修改】后，进入此工作流配置页面</td>
      <td>图1：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146803256485?contentType=1&amp;isNewContent=false" alt="image.jpeg" />图2：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146672695062?contentType=1&amp;isNewContent=false" alt="image.jpeg" />图3：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146801897078?contentType=1&amp;isNewContent=false" alt="image.jpeg" />图4：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146931992372?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td> </td>
    </tr>
    <tr>
      <td>默认画布</td>
      <td>该页面为思路模板的规则及工作流配置页面，可通过画布的形式自定义节点及单个节点中的配置。展示内容：（图1）模块、模板信息：注：需要Module管理员在MBA平台新建并保存模块相关基础信息、关联databox相关数据后此处新建后才能获取对应模块信息。MBA获取的模板是此处发布过的模板当前模板的模版名称：点击可修改模块名称：模板关联的模块id+名称模块对应的模板名称：下拉框，可单选，切换后会弹窗是否确认切换至其他模板，切换后当前模板自动保存开始节点：开始节点是工作流的起始节点，需要包含if条件信息作为触发条件结束节点：结束节点是工作流的末尾节点，用于返回工作流的运行结果添加节点：点击可以展开弹窗页面（图2），页面展示可添加的节点，可点击或拖拽至画布（图3）放大、缩小、展开画布：点击【+】放大10%，点击【-】缩小10%，点击展开全屏画布，按ESC返回撤回：撤销上一步配置重置：可清空当前页面的所有配置，点击后弹窗确认是否确认重置，确认后才可重置试运行：点击后校验当前页面是否有配置错误，若有则弹窗节点配置检查页面（图4），当前配置均无问题后，点击试运行可弹窗预览页面（图5），预览页面可折叠发布：点击后校验当前页面是否有配置错误，若有则弹窗节点配置检查页面（图4），当前配置均无问题后，点击发布可发布此模板，发布过的模板会回写至MBA中的模板关联页面其他组件能力：如按住拖动等保存逻辑：当用户切换模板/退出配置时，会保存当前全部配置内容</td>
      <td>图1：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146790394041?contentType=1&amp;isNewContent=false" alt="image.jpeg" />图2：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146802403699?contentType=1&amp;isNewContent=false" alt="image.jpeg" />图3：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146818228837?contentType=1&amp;isNewContent=false" alt="image.jpeg" />图4：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146808832982?contentType=1" alt="image.jpeg" />图5：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146811548652?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td> </td>
    </tr>
    <tr>
      <td>节点页面</td>
      <td>该页面为点击【添加节点】按钮后弹窗展示的页面，包含所有节点内容及简介。点击或拖拽任意节点可添加节点至画布，右侧弹窗展示、配置节点相关信息。节点介绍可参考【5.2节点介绍】节点分类及简介：（图1）开始节点：工作流的起始节点，需要包含if条件信息作为触发条件结束节点：工作流的末尾节点，用于返回工作流的运行结果条件节点：根据输入scheme结果判断是否满足条件文本节点：前端直接展示文本内容SQL节点：可配置SQL取数逻辑Python节点：可通过文本输入的形式输入分析思路洞察分析节点：对截至到目前节点的数据的洞察分析绘图节点：可通过文本输入/勾选前端组件的形式说明需要输出的图表要求节点依赖：在页面配置不满足节点相关的依赖条件时，点击试运行、发布时，试运行会弹窗报错条件分支：必须有if条件，且if、else两条分支都有下游节点文本节点：无依赖项SQL取数：无依赖项Python分析：依赖SQL取数和分析节点，若上游无SQL取数，则提示不可新建Python分析节点洞察分析：依赖SQL取数、Python分析、洞察分析节点，若上游无相关节点，则提示不可新建洞察分析节点绘图：依赖SQL取数或Python分析节点，若上游无SQL取数或Python分析节点，则提示不可新建绘图节点其他说明：流程首尾不可相连，避免流程进入循环无法停止</td>
      <td>图1：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146815663682?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td> </td>
    </tr>
    <tr>
      <td>流程预览</td>
      <td>预览规则：当页面配置无错误时，点击试运行可以对当前配置进行调试，否则展示节点配置检查页面，试运行按钮置灰调试过程：输入query后会按照左侧配置展示返回流程编排结果展示内容：模板信息调试过程信息输入框、发送按钮发布按钮</td>
      <td><img src="https://km.sankuai.com/api/file/cdn/2702355196/146808505777?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td> </td>
    </tr>
    <tr>
      <td>模板发布</td>
      <td>发布规则：当页面配置无错误时，点击发布可以对当前配置进行发布，否则展示节点配置检查页面，发布按钮置灰当模板试运行成功后才可发布，未试运行时按钮置灰发布后：模板创建后发布：回写信息至MBA模板配置List中，草稿状态的模板不会展示。模板更新后发布：识别模板无节点错误后，点击发布对线上生效数据集变更的时候databox提示影响的模板信息，如果造成节点错误直接置为失效，如果节点没错就不会失效</td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="52-节点介绍">5.2 节点介绍</h3>

<p>工作流配置由多个节点构成，节点是组成工作流的基本单元。例如，SQL、Python、文本等节点。</p>

<p>工作流默认包含了<strong>开始</strong>节点和<strong>结束</strong>节点。</p>

<p>明细可随组件功能有所调整，但需保持基础功能</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>模块</th>
      <th>节点名称</th>
      <th>示意图</th>
      <th>节点描述</th>
      <th>节点明细</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td>默认节点</td>
      <td>开始节点</td>
      <td><img src="https://km.sankuai.com/api/file/cdn/2702355196/146819644484?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td>开始节点是工作流的起始节点，包含触发条件</td>
      <td>符合任意/所有条件时执行条件参数：下拉框可单选用户query指标维度条件关系：包含、不包含、开始是、结束是、是、不是、为空、不为空比较值：下拉框可单选文本内容，选中后比较值为输入框指标维度</td>
    </tr>
    <tr>
      <td> </td>
      <td>结束节点</td>
      <td><img src="https://km.sankuai.com/api/file/cdn/2702355196/146819024181?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td>结束节点是工作流的终止节点，可对输出结果排序或删除</td>
      <td>输出参数注释：输出参数和回复内容至少填写其一（推荐填写回复内容）可拖拽展示顺序回复内容注释：最多可配置3条回复内容，每次会随意一条进行回复输出参数和回复内容至少填写其一（推荐填写回复内容）</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>基础节点</td>
      <td>条件节点</td>
      <td><img src="https://km.sankuai.com/api/file/cdn/2702355196/146819350385?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td>根据输入scheme结果判断是否满足条件</td>
      <td>IF和ELS下游E有两个节点，对应两个工作流参数：下拉框可单选用户query指标维度条件关系：包含、不包含、开始是、结束是、是、不是、为空、不为空比较值：下拉框可单选文本内容，选中后比较值为输入框指标维度</td>
    </tr>
    <tr>
      <td> </td>
      <td>文本节点</td>
      <td><img src="https://km.sankuai.com/api/file/cdn/2702355196/146814868722?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td>前端直接展示文本内容，主要是为了加title</td>
      <td>沿用文字相关配置组件即可</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>取数节点</td>
      <td>图1：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146983072371?contentType=1&amp;isNewContent=false" alt="image.jpeg" />图2：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146992696228?contentType=1&amp;isNewContent=false" alt="image.jpeg" />图3：<img src="https://km.sankuai.com/api/file/cdn/2702355196/146995064400?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td>可配置取数内容，如时间、指标、维度、维值，其中指标维度维值从databox数据源获取。可以自定义输入SQL，可选择是否输出scheme、该节点在前端是否展示</td>
      <td>自定义sql：输入sql后点击预览仅校验语法错误SQL涉及表权限提示（图2）预览功能：预览出sql执行结果（图3）配置sql：可通过添加要素新增行，切换要素的指标、维度、指标等</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>分析节点</td>
      <td><img src="https://km.sankuai.com/api/file/cdn/2702355196/146964251324?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td>可通过文本输入的形式输入分析思路如：以上每个指标在每个维度的占比</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>洞察节点</td>
      <td><img src="https://km.sankuai.com/api/file/cdn/2702355196/146955147173?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td>对截至到目前节点的数据的洞察分析，可对配洞察总结提示词配置</td>
      <td>模板：点击可以选中预设的模板并复制至输入框中</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>绘图节点</td>
      <td><img src="https://km.sankuai.com/api/file/cdn/2702355196/146821353878?contentType=1&amp;isNewContent=false" alt="image.jpeg" /></td>
      <td>可通过文本输入/勾选前端组件的形式说明需要输出的图表要求，如：根据cross指数画堆叠图，横轴为业务，纵轴为cross指数</td>
      <td>描述或选择，补充一个即可</td>
      <td> </td>
    </tr>
  </tbody>
</table>]]></content><author><name></name></author></entry><entry><title type="html">日期与时间</title><link href="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Date-and-Time/" rel="alternate" type="text/html" title="日期与时间" /><published>2025-01-07T00:00:00+08:00</published><updated>2025-01-07T00:00:00+08:00</updated><id>http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Date%20and%20Time</id><content type="html" xml:base="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Date-and-Time/"><![CDATA[<h1 id="日期与时间"><span style="color: rgb(255,127,80);"><strong>日期与时间</strong></span></h1>

<p>在 C++ 中，没有直接的日期类型，标准库主要依赖于 C 语言中的日期和时间处理方式。因此，为了操作日期和时间，你需要在程序中引入 <code class="language-plaintext highlighter-rouge">&lt;ctime&gt;</code> 头文件。</p>

<p>C++ 提供了四种与时间相关的类型：<code class="language-plaintext highlighter-rouge">clock_t</code>、<code class="language-plaintext highlighter-rouge">time_t</code>、<code class="language-plaintext highlighter-rouge">size_t</code> 和 <code class="language-plaintext highlighter-rouge">tm</code>。其中，<code class="language-plaintext highlighter-rouge">clock_t</code>、<code class="language-plaintext highlighter-rouge">size_t</code> 和 <code class="language-plaintext highlighter-rouge">time_t</code> 用整数来表示系统时间和日期，而 <code class="language-plaintext highlighter-rouge">tm</code> 结构则以更为直观的方式存储日期和时间的各个组成部分。</p>

<h3 id="tm-结构"><span style="color: rgb(0,191,255);"><strong><code class="language-plaintext highlighter-rouge">tm</code> 结构</strong></span></h3>

<p><code class="language-plaintext highlighter-rouge">tm</code> 结构是 C/C++ 中用于存储日期和时间的结构体，其定义如下：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="nc">tm</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">tm_sec</span><span class="p">;</span>   <span class="c1">// 秒，范围 0 到 59（但有时允许到 61）</span>
  <span class="kt">int</span> <span class="n">tm_min</span><span class="p">;</span>   <span class="c1">// 分钟，范围 0 到 59</span>
  <span class="kt">int</span> <span class="n">tm_hour</span><span class="p">;</span>  <span class="c1">// 小时，范围 0 到 23</span>
  <span class="kt">int</span> <span class="n">tm_mday</span><span class="p">;</span>  <span class="c1">// 日，范围 1 到 31</span>
  <span class="kt">int</span> <span class="n">tm_mon</span><span class="p">;</span>   <span class="c1">// 月，范围 0 到 11（0 代表 1 月，11 代表 12 月）</span>
  <span class="kt">int</span> <span class="n">tm_year</span><span class="p">;</span>  <span class="c1">// 年，从 1900 年起算</span>
  <span class="kt">int</span> <span class="n">tm_wday</span><span class="p">;</span>  <span class="c1">// 星期几，范围 0 到 6（0 代表星期天）</span>
  <span class="kt">int</span> <span class="n">tm_yday</span><span class="p">;</span>  <span class="c1">// 一年中的第几天，范围 0 到 365</span>
  <span class="kt">int</span> <span class="n">tm_isdst</span><span class="p">;</span> <span class="c1">// 夏令时标识（非零表示启用夏令时）</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="常用的时间函数"><span style="color: rgb(0,191,255);"><strong>常用的时间函数</strong></span></h3>

<p>C++ 标准库提供了一些与时间相关的函数，使用时可以参考下表：</p>

<table>
  <thead>
    <tr>
      <th>函数</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">time_t time(time_t *time);</code></td>
      <td>返回当前日历时间，自 1970 年 1 月 1 日以来的秒数。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">char* ctime(const time_t *time);</code></td>
      <td>将 <code class="language-plaintext highlighter-rouge">time_t</code> 类型的时间转换为字符串表示，格式为：<code class="language-plaintext highlighter-rouge">day month date hours:minutes:seconds year\n\0</code>。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">struct tm* localtime(const time_t *time);</code></td>
      <td>返回本地时间的 <code class="language-plaintext highlighter-rouge">tm</code> 结构指针。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">clock_t clock(void);</code></td>
      <td>返回程序运行时的处理器时间。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">char* asctime(const struct tm *time);</code></td>
      <td>将 <code class="language-plaintext highlighter-rouge">tm</code> 结构转换为字符串，格式为：<code class="language-plaintext highlighter-rouge">day month date hours:minutes:seconds year\n\0</code>。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">struct tm* gmtime(const time_t *time);</code></td>
      <td>返回与 UTC（格林尼治标准时间）相关的 <code class="language-plaintext highlighter-rouge">tm</code> 结构指针。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">time_t mktime(struct tm *time);</code></td>
      <td>将 <code class="language-plaintext highlighter-rouge">tm</code> 结构转换为 <code class="language-plaintext highlighter-rouge">time_t</code> 类型的日历时间。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">double difftime(time_t time2, time_t time1);</code></td>
      <td>返回两个时间点之间的秒数差。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">size_t strftime();</code></td>
      <td>用指定格式输出日期和时间。</td>
    </tr>
  </tbody>
</table>

<h3 id="获取当前日期和时间"><span style="color: rgb(0,191,255);"><strong>获取当前日期和时间</strong></span></h3>

<p>以下是一个示例程序，展示如何获取当前日期和时间，包括本地时间和协调世界时（UTC）。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;ctime&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// 获取当前时间（自1970年1月1日以来的秒数）</span>
    <span class="kt">time_t</span> <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="c1">// 将当前时间转换为字符串形式</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">dt</span> <span class="o">=</span> <span class="n">ctime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">now</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"本地日期和时间："</span> <span class="o">&lt;&lt;</span> <span class="n">dt</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">// 获取UTC时间</span>
    <span class="n">tm</span><span class="o">*</span> <span class="n">gmtm</span> <span class="o">=</span> <span class="n">gmtime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">now</span><span class="p">);</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">asctime</span><span class="p">(</span><span class="n">gmtm</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"UTC 日期和时间："</span> <span class="o">&lt;&lt;</span> <span class="n">dt</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出示例</strong>：</span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">本地日期和时间：Sat Jan  8 20:07:41 </span><span class="m">2011</span>
<span class="s">UTC 日期和时间：Sun Jan  9 03:07:41 </span><span class="m">2011</span>
</code></pre></div></div>

<h3 id="使用-tm-结构格式化时间"><span style="color: rgb(0,191,255);"><strong>使用 <code class="language-plaintext highlighter-rouge">tm</code> 结构格式化时间</strong></span></h3>

<p><code class="language-plaintext highlighter-rouge">tm</code> 结构在 C/C++ 中处理日期和时间时非常有用。你可以访问结构中的各个成员来获取时间的详细信息。下面是一个使用 <code class="language-plaintext highlighter-rouge">tm</code> 结构的示例：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;ctime&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// 获取当前时间</span>
    <span class="kt">time_t</span> <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"1970 到目前经过的秒数: "</span> <span class="o">&lt;&lt;</span> <span class="n">now</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">// 将时间转换为本地时间（tm结构）</span>
    <span class="n">tm</span><span class="o">*</span> <span class="n">ltm</span> <span class="o">=</span> <span class="n">localtime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">now</span><span class="p">);</span>
    <span class="c1">// 输出 tm 结构的各个组成部分</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"年: "</span> <span class="o">&lt;&lt;</span> <span class="mi">1900</span> <span class="o">+</span> <span class="n">ltm</span><span class="o">-&gt;</span><span class="n">tm_year</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"月: "</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">ltm</span><span class="o">-&gt;</span><span class="n">tm_mon</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"日: "</span> <span class="o">&lt;&lt;</span> <span class="n">ltm</span><span class="o">-&gt;</span><span class="n">tm_mday</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"时间: "</span> <span class="o">&lt;&lt;</span> <span class="n">ltm</span><span class="o">-&gt;</span><span class="n">tm_hour</span> <span class="o">&lt;&lt;</span> <span class="s">":"</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ltm</span><span class="o">-&gt;</span><span class="n">tm_min</span> <span class="o">&lt;&lt;</span> <span class="s">":"</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ltm</span><span class="o">-&gt;</span><span class="n">tm_sec</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>**输出示例</strong>：**</span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">1970 到目前经过的秒数</span><span class="pi">:</span> <span class="m">1503564157</span>
<span class="na">年</span><span class="pi">:</span> <span class="m">2017</span>
<span class="na">月</span><span class="pi">:</span> <span class="m">8</span>
<span class="na">日</span><span class="pi">:</span> <span class="m">24</span>
<span class="na">时间</span><span class="pi">:</span> <span class="s">16:42:37</span>
</code></pre></div></div>

<p>在上面的代码中，我们用 <code class="language-plaintext highlighter-rouge">1900 + ltm-&gt;tm_year</code> 来获取实际的年份，因为 <code class="language-plaintext highlighter-rouge">tm_year</code> 存储的是从 1900 年起的年份偏移量。同样地，用 <code class="language-plaintext highlighter-rouge">1 + ltm-&gt;tm_mon</code> 来计算实际月份，因为 <code class="language-plaintext highlighter-rouge">tm_mon</code> 的范围是从 0 到 11，表示从 1 月到 12 月。</p>

<h3 id="总结"><span style="color: rgb(0,191,255);"><strong>总结</strong></span></h3>

<p>在 C++ 中，处理日期和时间主要依赖于 <code class="language-plaintext highlighter-rouge">&lt;ctime&gt;</code> 头文件，使用 <code class="language-plaintext highlighter-rouge">time_t</code> 和 <code class="language-plaintext highlighter-rouge">tm</code> 等类型进行时间的表示和操作。通过相关函数，你可以轻松获取和格式化当前时间，以及进行日期与时间的计算。这些基础操作对于开发中需要时间功能的程序是非常常见的。</p>]]></content><author><name>ZJM</name></author><category term="code/algorithm/basic-knowledge" /><category term="Code" /><summary type="html"><![CDATA[日期与时间]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/code-cover-8.png" /><media:content medium="image" url="http://localhost:4000/code-cover-8.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">引用</title><link href="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Reference/" rel="alternate" type="text/html" title="引用" /><published>2025-01-07T00:00:00+08:00</published><updated>2025-01-07T00:00:00+08:00</updated><id>http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Reference</id><content type="html" xml:base="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Reference/"><![CDATA[<h1 id="引用"><span style="color: rgb(255,127,80);"><strong>引用</strong></span></h1>

<p>在 C++ 中，<strong>引用</strong>是一种为变量提供别名的机制。引用不仅可以用来传递参数，还可以作为返回值。引用通常比指针更容易理解和使用，它使得代码更加简洁，并减少了指针的复杂性。本文将详细介绍 C++ 中引用的基本概念、作为函数参数和返回值的应用以及使用引用时的注意事项。</p>

<h4 id="c-中的引用基本概念"><span style="color: rgb(0,191,255);"><strong>C++ 中的引用基本概念</strong></span></h4>

<p>引用是某个变量的别名。引用在初始化时与某个变量绑定，并且从此之后，它就成为这个变量的别名。可以使用引用来访问和修改原始变量的值。</p>

<h5 id="1-创建引用"><span style="color: rgb(32,178,170);"><strong>1. 创建引用</strong></span></h5>

<p>在 C++ 中，引用的声明方式是在类型名后加上 <code class="language-plaintext highlighter-rouge">&amp;</code> 符号。举个例子：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">17</span><span class="p">;</span>
<span class="kt">int</span><span class="o">&amp;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>  <span class="c1">// r 是 i 的引用</span>
</code></pre></div></div>

<p>此时，<code class="language-plaintext highlighter-rouge">r</code> 和 <code class="language-plaintext highlighter-rouge">i</code> 指向同一个内存位置，修改 <code class="language-plaintext highlighter-rouge">r</code> 或 <code class="language-plaintext highlighter-rouge">i</code> 都会影响到对方。</p>

<h4 id="2-引用与指针的区别"><span style="color: rgb(32,178,170);"><strong>2. 引用与指针的区别</strong></span></h4>

<p>引用与指针在 C++ 中有几个明显的不同之处：</p>

<ul>
  <li><strong>引用不能为 null</strong>：一旦引用被初始化，它就必须绑定到一个合法的内存位置，而指针可以指向 <code class="language-plaintext highlighter-rouge">nullptr</code>。</li>
  <li><strong>引用不能更改指向对象</strong>：引用一旦绑定到某个变量，它就不能再指向其他变量，而指针可以随时指向不同的对象。</li>
  <li><strong>引用必须在创建时初始化</strong>：创建引用时必须提供一个变量来初始化它，而指针则可以在任何时候被初始化。</li>
</ul>

<p>这些特点使得引用在某些情况下比指针更加安全和简洁。</p>

<h4 id="引用作为函数参数"><span style="color: rgb(0,191,255);"><strong>引用作为函数参数</strong></span></h4>

<p>C++ 中，引用经常用于函数参数传递。这种方式称为<strong>引用传递</strong>。引用传递的一个主要优点是，函数能够直接修改传入的变量，而无需返回任何值或通过指针修改。相比传值传递，引用传递避免了复制变量的开销。</p>

<h5 id="示例交换两个整数的值"><span style="color: rgb(32,178,170);"><strong>示例：交换两个整数的值</strong></span></h5>

<p>以下是一个简单的例子，演示如何通过引用传递来交换两个整数的值：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="c1">// 函数声明</span>
<span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">y</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"交换前，a 的值："</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"交换前，b 的值："</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">// 调用函数交换值</span>
    <span class="n">swap</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"交换后，a 的值："</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"交换后，b 的值："</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// 函数定义：通过引用交换两个整数的值</span>
<span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span> <span class="c1">// 保存 x 的值</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>        <span class="c1">// 将 y 的值赋给 x</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>     <span class="c1">// 将 x 的值赋给 y</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出结果：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">交换前，a 的值：100</span>
<span class="s">交换前，b 的值：200</span>
<span class="s">交换后，a 的值：200</span>
<span class="s">交换后，b 的值：100</span>
</code></pre></div></div>

<p>在上面的例子中，<code class="language-plaintext highlighter-rouge">swap</code> 函数通过引用传递，直接修改了 <code class="language-plaintext highlighter-rouge">a</code> 和 <code class="language-plaintext highlighter-rouge">b</code> 的值，而不需要使用指针或者返回值。</p>

<h4 id="引用作为函数返回值"><span style="color: rgb(0,191,255);"><strong>引用作为函数返回值</strong></span></h4>

<p>除了作为函数参数，引用也可以作为函数的返回值。在 C++ 中，返回一个引用可以让你直接修改函数返回的对象，而不需要通过指针来进行操作。</p>

<h5 id="示例返回数组元素的引用"><span style="color: rgb(32,178,170);"><strong>示例：返回数组元素的引用</strong></span></h5>

<p>以下是一个示例，演示如何通过返回引用来修改数组中的元素：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">vals</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mf">10.1</span><span class="p">,</span> <span class="mf">12.6</span><span class="p">,</span> <span class="mf">33.1</span><span class="p">,</span> <span class="mf">24.1</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">};</span>
<span class="c1">// 函数返回数组元素的引用</span>
<span class="kt">double</span><span class="o">&amp;</span> <span class="n">setValues</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span>
<span class="p">{</span>  
    <span class="kt">double</span><span class="o">&amp;</span> <span class="n">ref</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>  <span class="c1">// 创建对数组元素的引用</span>
    <span class="k">return</span> <span class="n">ref</span><span class="p">;</span>  <span class="c1">// 返回该引用</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"改变前的值"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"vals["</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">"] = "</span> <span class="o">&lt;&lt;</span> <span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// 调用函数修改数组中的元素</span>
    <span class="n">setValues</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mf">20.23</span><span class="p">;</span>  <span class="c1">// 改变第 2 个元素</span>
    <span class="n">setValues</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mf">70.8</span><span class="p">;</span>   <span class="c1">// 改变第 4 个元素</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"改变后的值"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"vals["</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">"] = "</span> <span class="o">&lt;&lt;</span> <span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出结果：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">改变前的值</span>
<span class="s">vals[0] = </span><span class="m">10.1</span>
<span class="s">vals[1] = </span><span class="m">12.6</span>
<span class="s">vals[2] = </span><span class="m">33.1</span>
<span class="s">vals[3] = </span><span class="m">24.1</span>
<span class="s">vals[4] = </span><span class="m">50</span>
<span class="s">改变后的值</span>
<span class="s">vals[0] = </span><span class="m">10.1</span>
<span class="s">vals[1] = </span><span class="m">20.23</span>
<span class="s">vals[2] = </span><span class="m">33.1</span>
<span class="s">vals[3] = </span><span class="m">70.8</span>
<span class="s">vals[4] = </span><span class="m">50</span>
</code></pre></div></div>

<p>在这个示例中，<code class="language-plaintext highlighter-rouge">setValues</code> 函数返回了 <code class="language-plaintext highlighter-rouge">vals[i]</code> 的引用，从而允许我们直接修改数组中的元素。</p>

<h5 id="注意事项不要返回局部变量的引用"><span style="color: rgb(0,191,255);"><strong>注意事项：不要返回局部变量的引用</strong></span></h5>

<p>需要特别注意的是，不能返回一个局部变量的引用，因为局部变量在函数结束时会被销毁，返回该变量的引用将导致未定义行为。相反，如果函数返回静态变量的引用，静态变量在程序的生命周期内保持有效。</p>

<h5 id="示例返回静态变量的引用"><span style="color: rgb(32,178,170);"><strong>示例：返回静态变量的引用</strong></span></h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span><span class="o">&amp;</span> <span class="n">getStaticRef</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>  <span class="c1">// 静态变量</span>
    <span class="k">return</span> <span class="n">num</span><span class="p">;</span>  <span class="c1">// 返回静态变量的引用</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref</span> <span class="o">=</span> <span class="n">getStaticRef</span><span class="p">();</span>  <span class="c1">// 获取对静态变量的引用</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"初始值："</span> <span class="o">&lt;&lt;</span> <span class="n">ref</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">ref</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>  <span class="c1">// 修改静态变量的值</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"修改后的值："</span> <span class="o">&lt;&lt;</span> <span class="n">ref</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"再次调用函数后的值："</span> <span class="o">&lt;&lt;</span> <span class="n">getStaticRef</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出结果：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">初始值：5</span>
<span class="s">修改后的值：10</span>
<span class="s">再次调用函数后的值：10</span>
</code></pre></div></div>

<h3 id="总结"><span style="color: rgb(0,191,255);"><strong>总结</strong></span></h3>

<ul>
  <li><strong>引用的基本概念</strong>：引用是变量的别名，通过引用可以修改原始变量的值，避免了指针的复杂性。</li>
  <li><strong>引用作为参数</strong>：引用传递允许函数直接修改传入的变量，并且避免了值传递的复制开销。</li>
  <li><strong>引用作为返回值</strong>：函数返回引用可以让我们直接修改返回值对应的对象。需要注意，不能返回局部变量的引用，但可以返回静态变量的引用。</li>
</ul>

<p>通过灵活使用引用，C++ 编程可以变得更加简洁、高效，同时提高代码的可读性和可维护性。</p>]]></content><author><name>ZJM</name></author><category term="code/algorithm/basic-knowledge" /><category term="Code" /><summary type="html"><![CDATA[引用]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/code-cover-8.png" /><media:content medium="image" url="http://localhost:4000/code-cover-8.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">指针</title><link href="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Pointers/" rel="alternate" type="text/html" title="指针" /><published>2025-01-07T00:00:00+08:00</published><updated>2025-01-07T00:00:00+08:00</updated><id>http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Pointers</id><content type="html" xml:base="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Pointers/"><![CDATA[<h1 id="指针教程"><span style="color: rgb(255,127,80);"><strong>指针教程</strong></span></h1>

<p>学习 C++ 中的指针既简单又有趣。通过指针，可以简化一些编程任务，例如动态内存分配，而这些任务没有指针是无法完成的。因此，掌握指针是成为优秀 C++ 程序员的重要一步。</p>

<p>每个变量都有一个内存地址，可以使用地址运算符 <code class="language-plaintext highlighter-rouge">&amp;</code> 来获取这个地址。下面是一个简单的例子，展示了如何打印变量的内存地址：</p>

<p><span style="color: rgb(238,130,238);"><strong>示例代码</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">var1</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">var2</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"var1 变量的地址： "</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">var1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"var2 变量的地址： "</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">var2</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>当上面的代码编译并执行时，可能会输出类似以下内容：</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">var1 变量的地址： 0xbfebd5c0</span>
<span class="s">var2 变量的地址： 0xbfebd5b6</span>
</code></pre></div></div>

<p>通过这个例子，你可以看到 <code class="language-plaintext highlighter-rouge">var1</code> 和 <code class="language-plaintext highlighter-rouge">var2</code> 的内存地址是不同的。接下来，我们将介绍什么是指针。</p>

<h3 id="什么是指针"><span style="color: rgb(0,191,255);"><strong>什么是指针？</strong></span></h3>

<p>指针是一个变量，它存储另一个变量的内存地址。你可以通过指针间接地访问内存中的数据。指针变量需要在使用前声明，声明的语法如下：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">type</span> <span class="o">*</span><span class="n">pointerName</span><span class="p">;</span>
</code></pre></div></div>

<p>其中：</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">type</code> 是指针所指向数据的类型。</li>
  <li><code class="language-plaintext highlighter-rouge">pointerName</code> 是指针变量的名称。</li>
</ul>

<p>星号 <code class="language-plaintext highlighter-rouge">*</code> 用于声明一个指针，它不同于乘法中的 <code class="language-plaintext highlighter-rouge">*</code> 运算符，在这里它的作用是指示一个变量是指针类型。以下是一些有效的指针声明示例：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span>    <span class="o">*</span><span class="n">ip</span><span class="p">;</span>    <span class="c1">// 整型指针</span>
<span class="kt">double</span> <span class="o">*</span><span class="n">dp</span><span class="p">;</span>    <span class="c1">// 双精度浮点型指针</span>
<span class="kt">float</span>  <span class="o">*</span><span class="n">fp</span><span class="p">;</span>    <span class="c1">// 浮点型指针</span>
<span class="kt">char</span>   <span class="o">*</span><span class="n">ch</span><span class="p">;</span>    <span class="c1">// 字符型指针</span>
</code></pre></div></div>

<p>虽然指针的类型可以不同（整型、浮点型等），但它们存储的值始终是一个内存地址，通常以十六进制表示。</p>

<h3 id="如何使用指针"><span style="color: rgb(0,191,255);"><strong>如何使用指针</strong></span></h3>

<p>指针的常见操作包括：</p>
<ol>
  <li><strong>定义指针变量</strong></li>
  <li><strong>将变量的地址赋给指针</strong></li>
  <li><strong>通过指针访问变量的值</strong></li>
</ol>

<p>你可以使用 <code class="language-plaintext highlighter-rouge">*</code> 运算符来访问指针指向的内存位置中的值。下面是一个具体示例：</p>

<p><span style="color: rgb(238,130,238);"><strong>示例代码</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">var</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>   <span class="c1">// 声明一个整数变量</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">ip</span><span class="p">;</span>        <span class="c1">// 声明一个指向整数的指针</span>
    <span class="n">ip</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">var</span><span class="p">;</span>      <span class="c1">// 将 var 的地址赋给指针 ip</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"var 变量的值： "</span> <span class="o">&lt;&lt;</span> <span class="n">var</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ip 指针存储的地址： "</span> <span class="o">&lt;&lt;</span> <span class="n">ip</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"*ip 指针指向的值： "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ip</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>运行结果：</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">var 变量的值： </span><span class="m">20</span>
<span class="s">ip 指针存储的地址： 0xbfc601ac</span>
<span class="nv">*ip</span> <span class="s">指针指向的值： </span><span class="m">20</span>
</code></pre></div></div>

<p>在这个例子中：</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">&amp;var</code> 获取变量 <code class="language-plaintext highlighter-rouge">var</code> 的地址，并将其赋值给指针 <code class="language-plaintext highlighter-rouge">ip</code>。</li>
  <li>使用 <code class="language-plaintext highlighter-rouge">*ip</code> 来访问指针 <code class="language-plaintext highlighter-rouge">ip</code> 指向的内存位置的值，即 <code class="language-plaintext highlighter-rouge">var</code> 的值。</li>
</ul>

<h3 id="c-指针的常见概念"><span style="color: rgb(0,191,255);"><strong>C++ 指针的常见概念</strong></span></h3>

<p>在 C++ 中，指针有许多重要的概念，下面是一些基本概念：</p>

<table>
  <thead>
    <tr>
      <th><strong>概念</strong></th>
      <th><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>空指针（NULL 指针）</strong></td>
      <td><code class="language-plaintext highlighter-rouge">NULL</code> 是一个值为零的常量，用于表示指针不指向任何有效的内存地址。</td>
    </tr>
    <tr>
      <td><strong>指针运算</strong></td>
      <td>可以对指针进行算术运算：<code class="language-plaintext highlighter-rouge">++</code>（指向下一个内存单元）、<code class="language-plaintext highlighter-rouge">--</code>（指向前一个内存单元）、<code class="language-plaintext highlighter-rouge">+</code>（增加偏移量）、<code class="language-plaintext highlighter-rouge">-</code>（减少偏移量）。</td>
    </tr>
    <tr>
      <td><strong>指针与数组</strong></td>
      <td>数组名本身就是一个指向数组首元素的指针，因此，指针和数组之间有密切关系。</td>
    </tr>
    <tr>
      <td><strong>指针数组</strong></td>
      <td>可以定义一个数组，该数组存储多个指针。</td>
    </tr>
    <tr>
      <td><strong>指向指针的指针</strong></td>
      <td>C++ 允许定义指向指针的指针（即指针的指针），这种结构有时用于多维数组。</td>
    </tr>
    <tr>
      <td><strong>传递指针给函数</strong></td>
      <td>通过传递指针，可以使得函数内修改传递给它的变量。</td>
    </tr>
    <tr>
      <td><strong>函数返回指针</strong></td>
      <td>函数可以返回指向局部变量、静态变量或动态分配内存的指针。</td>
    </tr>
  </tbody>
</table>

<h3 id="1c-null-指针"><span style="color: rgb(0,191,255);"><strong>1.C++ Null 指针</strong></span></h3>

<p>在 C++ 中，如果指针在声明时没有明确的地址可以赋值，给指针变量赋值为 <code class="language-plaintext highlighter-rouge">NULL</code> 是一种良好的编程习惯。一个赋值为 <code class="language-plaintext highlighter-rouge">NULL</code> 的指针被称为空指针。</p>

<h4 id="什么是-null-指针"><span style="color: rgb(32,178,170);"><strong>什么是 NULL 指针？</strong></span></h4>

<p><code class="language-plaintext highlighter-rouge">NULL</code> 指针是一个常量，它的值为零，表示指针不指向任何有效的内存地址。使用空指针有助于避免程序中出现未初始化的指针，从而减少错误和调试难度。</p>

<p><span style="color: rgb(238,130,238);"><strong>示例代码</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">ptr</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>   <span class="c1">// 将指针初始化为 NULL</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ptr 的值是 "</span> <span class="o">&lt;&lt;</span> <span class="n">ptr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>当代码编译并运行时，输出将是：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ptr 的值是 0
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">ptr</code> 是一个空指针，它的值是 <code class="language-plaintext highlighter-rouge">NULL</code>，即零。大多数操作系统都不允许访问地址为 0 的内存，因为该内存地址通常是操作系统保留的。因此，指向 <code class="language-plaintext highlighter-rouge">0</code> 的指针被认为是一个无效指针，通常不指向任何合法的内存位置。</p>

<h3 id="如何检查空指针"><span style="color: rgb(32,178,170);"><strong>如何检查空指针</strong></span></h3>

<p>在程序中，你可能需要检查一个指针是否为空。你可以使用 <code class="language-plaintext highlighter-rouge">if</code> 语句来检查指针是否为 <code class="language-plaintext highlighter-rouge">NULL</code>，例如：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">ptr</span><span class="p">)</span> 
<span class="p">{</span>
    <span class="c1">// 如果 ptr 非空，则执行此代码块</span>
<span class="p">}</span> 
<span class="k">else</span> 
<span class="p">{</span>
    <span class="c1">// 如果 ptr 为空，则执行此代码块</span>
<span class="p">}</span>
</code></pre></div></div>

<p>或者：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ptr</span><span class="p">)</span> 
<span class="p">{</span>
    <span class="c1">// 如果 ptr 为空，则执行此代码块</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="空指针的好处"><span style="color: rgb(32,178,170);"><strong>空指针的好处</strong></span></h3>

<ul>
  <li>
    <p><strong>避免误用未初始化的指针</strong>：指针在声明后，如果没有赋初值，它可能包含一些垃圾值，这可能会导致程序错误或崩溃。通过将未使用的指针初始化为 <code class="language-plaintext highlighter-rouge">NULL</code>，可以确保它不指向任何非法的内存地址，从而减少因误用未初始化指针而引发的问题。</p>
  </li>
  <li>
    <p><strong>提高代码的可读性和可维护性</strong>：给指针赋 <code class="language-plaintext highlighter-rouge">NULL</code> 值是一种良好的编码规范，帮助其他开发者了解该指针尚未指向有效的数据，避免出现不必要的错误。</p>
  </li>
</ul>

<h3 id="总结"><span style="color: rgb(32,178,170);"><strong>总结</strong></span></h3>

<p>空指针（<code class="language-plaintext highlighter-rouge">NULL</code>）是 C++ 中的一种指针，它指向一个无效的内存位置（地址为 0）。使用空指针可以有效防止程序中使用未初始化的指针，减少错误的发生，并提高代码的稳定性和可维护性。通过 <code class="language-plaintext highlighter-rouge">if</code> 语句可以方便地检查指针是否为空，帮助你做出正确的逻辑判断。</p>

<h3 id="2c-指针的算术运算"><span style="color: rgb(0,191,255);"><strong>2.C++ 指针的算术运算</strong></span></h3>

<p>指针是一个存储内存地址的变量，因此你可以对指针进行算术运算。C++ 允许对指针执行四种基本的算术运算：<code class="language-plaintext highlighter-rouge">++</code>（递增）、<code class="language-plaintext highlighter-rouge">--</code>（递减）、<code class="language-plaintext highlighter-rouge">+</code>（加法）、<code class="language-plaintext highlighter-rouge">-</code>（减法）。这些运算根据指针的类型和大小来决定移动的距离。</p>

<h4 id="i-递增指针"><span style="color: rgb(32,178,170);"><strong>I. 递增指针（<code class="language-plaintext highlighter-rouge">++</code>）</strong></span></h4>

<p>指针递增时，会使指针指向下一个内存位置，通常是下一个数组元素。递增的偏移量取决于指针所指向的数据类型大小。例如，如果指针是 <code class="language-plaintext highlighter-rouge">int*</code> 类型，那么每次递增将跳过一个 <code class="language-plaintext highlighter-rouge">int</code> 的大小（通常是 4 个字节）。</p>

<p><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">};</span>
    <span class="kt">int</span><span class="o">*</span> <span class="n">ptr</span> <span class="o">=</span> <span class="n">arr</span><span class="p">;</span>  <span class="c1">// 指向数组的第一个元素</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"指针当前指向的元素: "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">ptr</span><span class="o">++</span><span class="p">;</span>  <span class="c1">// 递增指针，指向下一个元素</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"递增指针后指向的元素: "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">指针当前指向的元素</span><span class="pi">:</span> <span class="m">10</span>
<span class="na">递增指针后指向的元素</span><span class="pi">:</span> <span class="m">20</span>
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">ptr++</code> 使得指针指向数组中的下一个元素。由于 <code class="language-plaintext highlighter-rouge">ptr</code> 是 <code class="language-plaintext highlighter-rouge">int*</code> 类型，递增后指针值会增加 4 个字节（假设 <code class="language-plaintext highlighter-rouge">int</code> 类型占 4 个字节）。</p>

<h4 id="ii-递减指针--"><span style="color: rgb(32,178,170);"><strong>II. 递减指针（<code class="language-plaintext highlighter-rouge">--</code>）</strong></span></h4>

<p>指针递减时，会使指针指向上一个内存位置，通常是前一个数组元素。递减的偏移量同样取决于指针的数据类型。</p>

<p><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">};</span>
    <span class="kt">int</span><span class="o">*</span> <span class="n">ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>  <span class="c1">// 指向数组的第二个元素</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"指针当前指向的元素: "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">ptr</span><span class="o">--</span><span class="p">;</span>  <span class="c1">// 递减指针，指向前一个元素</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"递减指针后指向的元素: "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">指针当前指向的元素</span><span class="pi">:</span> <span class="m">20</span>
<span class="na">递减指针后指向的元素</span><span class="pi">:</span> <span class="m">10</span>
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">ptr--</code> 使得指针指向前一个元素。由于 <code class="language-plaintext highlighter-rouge">ptr</code> 是 <code class="language-plaintext highlighter-rouge">int*</code> 类型，递减后指针值会减少 4 个字节。</p>

<h4 id="iii-指针加法"><span style="color: rgb(32,178,170);"><strong>III. 指针加法（<code class="language-plaintext highlighter-rouge">+</code>）</strong></span></h4>

<p>你可以对指针进行加法运算。当指针 <code class="language-plaintext highlighter-rouge">p</code> 加上一个整数 <code class="language-plaintext highlighter-rouge">n</code> 时，指针会向前移动 <code class="language-plaintext highlighter-rouge">n</code> 个元素的大小。例如，如果 <code class="language-plaintext highlighter-rouge">p</code> 是一个 <code class="language-plaintext highlighter-rouge">int*</code> 类型，每个 <code class="language-plaintext highlighter-rouge">int</code> 占 4 个字节，那么 <code class="language-plaintext highlighter-rouge">p + 1</code> 将指向下一个 <code class="language-plaintext highlighter-rouge">int</code> 元素。</p>

<p><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">};</span>
    <span class="kt">int</span><span class="o">*</span> <span class="n">ptr</span> <span class="o">=</span> <span class="n">arr</span><span class="p">;</span>  <span class="c1">// 指向数组的第一个元素</span>
    <span class="c1">// 输出 ptr + 2 指向的元素（向前移动 2 个元素）</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ptr + 2 指向的元素: "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="p">(</span><span class="n">ptr</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">ptr + 2 指向的元素</span><span class="pi">:</span> <span class="m">30</span>
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">ptr + 2</code> 会使指针向前移动 2 个 <code class="language-plaintext highlighter-rouge">int</code> 元素的位置，相当于将 <code class="language-plaintext highlighter-rouge">ptr</code> 指向 <code class="language-plaintext highlighter-rouge">arr[2]</code>。</p>

<h4 id="iv-指针减法-"><span style="color: rgb(32,178,170);"><strong>IV. 指针减法（<code class="language-plaintext highlighter-rouge">-</code>）</strong></span></h4>

<p>你也可以对指针进行减法运算。当指针 <code class="language-plaintext highlighter-rouge">p</code> 减去一个整数 <code class="language-plaintext highlighter-rouge">n</code> 时，指针会向后移动 <code class="language-plaintext highlighter-rouge">n</code> 个元素的大小。与加法运算类似，指针减法的偏移量同样取决于指针的数据类型。</p>

<p><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">};</span>
    <span class="kt">int</span><span class="o">*</span> <span class="n">ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>  <span class="c1">// 指向数组的最后一个元素</span>
    <span class="c1">// 输出 ptr - 2 指向的元素（向后移动 2 个元素）</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ptr - 2 指向的元素: "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="p">(</span><span class="n">ptr</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">ptr - 2 指向的元素</span><span class="pi">:</span> <span class="m">30</span>
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">ptr - 2</code> 会使指针向后移动 2 个 <code class="language-plaintext highlighter-rouge">int</code> 元素的位置，相当于将 <code class="language-plaintext highlighter-rouge">ptr</code> 指向 <code class="language-plaintext highlighter-rouge">arr[2]</code>。</p>

<h4 id="v-指针与指针之间的减法"><span style="color: rgb(32,178,170);">*V. 指针与指针之间的减法**</span></h4>

<p>你还可以对两个指针进行减法运算，计算它们之间的距离。减法结果是两个指针之间的元素个数。</p>

<p><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">};</span>
    <span class="kt">int</span><span class="o">*</span> <span class="n">ptr1</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>  <span class="c1">// 指向数组的第二个元素</span>
    <span class="kt">int</span><span class="o">*</span> <span class="n">ptr2</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>  <span class="c1">// 指向数组的第五个元素</span>
    <span class="c1">// 输出 ptr2 - ptr1 的结果，表示它们之间的元素个数</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ptr2 - ptr1 之间的元素个数: "</span> <span class="o">&lt;&lt;</span> <span class="n">ptr2</span> <span class="o">-</span> <span class="n">ptr1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">ptr2 - ptr1 之间的元素个数</span><span class="pi">:</span> <span class="m">3</span>
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">ptr2 - ptr1</code> 计算的是两个指针之间的元素个数。由于 <code class="language-plaintext highlighter-rouge">ptr1</code> 和 <code class="language-plaintext highlighter-rouge">ptr2</code> 分别指向 <code class="language-plaintext highlighter-rouge">arr[1]</code> 和 <code class="language-plaintext highlighter-rouge">arr[4]</code>，它们之间有 3 个 <code class="language-plaintext highlighter-rouge">int</code> 元素。</p>

<h4 id="vi-指针比较"><span style="color: rgb(32,178,170);"><strong>VI. 指针比较</strong></span></h4>

<p>C++ 中还可以比较两个指针的相对位置。指针的比较包括相等性比较和关系比较：</p>

<ul>
  <li><strong>相等性比较</strong>：<code class="language-plaintext highlighter-rouge">==</code> 和 <code class="language-plaintext highlighter-rouge">!=</code></li>
  <li><strong>关系比较</strong>：<code class="language-plaintext highlighter-rouge">&lt;</code>, <code class="language-plaintext highlighter-rouge">&lt;=</code>, <code class="language-plaintext highlighter-rouge">&gt;</code>, <code class="language-plaintext highlighter-rouge">&gt;=</code></li>
</ul>

<p><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">};</span>
    <span class="kt">int</span><span class="o">*</span> <span class="n">ptr1</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>  <span class="c1">// 指向数组的第二个元素</span>
    <span class="kt">int</span><span class="o">*</span> <span class="n">ptr2</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>  <span class="c1">// 指向数组的第四个元素</span>
    <span class="c1">// 相等性比较</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">ptr1</span> <span class="o">==</span> <span class="n">ptr2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ptr1 和 ptr2 指向相同的位置"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ptr1 和 ptr2 指向不同的位置"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// 关系比较</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">ptr1</span> <span class="o">&lt;</span> <span class="n">ptr2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ptr1 指向的元素在 ptr2 指向的元素之前"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">ptr1 和 ptr2 指向不同的位置</span>
<span class="s">ptr1 指向的元素在 ptr2 指向的元素之前</span>
</code></pre></div></div>

<p>在这个例子中，我们比较了两个指针 <code class="language-plaintext highlighter-rouge">ptr1</code> 和 <code class="language-plaintext highlighter-rouge">ptr2</code>，检查它们是否指向同一位置，以及它们的相对位置。</p>

<h3 id="注意事项"><span style="color: rgb(32,178,170);"><strong>注意事项</strong></span></h3>
<ol>
  <li><strong>指针操作的有效性</strong>：指针算术运算需要确保指针仍指向有效的内存位置，尤其是在操作数组时，避免指针超出数组的有效范围。</li>
  <li><strong>指针类型与大小</strong>：指针算术运算是基于指针所指向的数据类型大小进行的。例如，<code class="language-plaintext highlighter-rouge">int*</code> 指针每次递增会增加 4 个字节（假设 <code class="language-plaintext highlighter-rouge">int</code> 是 4 字节）。</li>
  <li><strong>空指针比较</strong>：在进行指针比较之前，确保指针不是空指针（<code class="language-plaintext highlighter-rouge">nullptr</code>），否则可能会导致未定义行为。</li>
</ol>

<p>通过这些算术运算和比较，你可以更加灵活和高效地操作指针，尤其是在处理数组和动态内存时。</p>

<h3 id="3c-指针-vs-数组"><span style="color: rgb(0,191,255);"><strong>3.C++ 指针 vs 数组</strong></span></h3>

<p>指针和数组在 C++ 中密切相关，甚至可以说它们在很多情况下是可以互换的。数组名实际上是一个常量指针，指向数组的首元素。你可以通过指针的算术运算或数组索引来访问数组元素。尽管如此，指针和数组在使用上仍然有一些区别，需要理解它们之间的关系和限制。</p>

<h4 id="i-指针和数组的相似性"><span style="color: rgb(32,178,170);"><strong>I. 指针和数组的相似性</strong></span></h4>

<p>指针和数组在某些场景下非常相似，特别是在访问数组元素时。数组名本质上是一个指针常量，指向数组的第一个元素。因此，指针可以用来遍历数组。</p>

<p><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">MAX</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">var</span><span class="p">[</span><span class="n">MAX</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">};</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">ptr</span><span class="p">;</span>
    <span class="c1">// 指针指向数组的第一个元素</span>
    <span class="n">ptr</span> <span class="o">=</span> <span class="n">var</span><span class="p">;</span>  
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"var["</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">"]的内存地址为 "</span> <span class="o">&lt;&lt;</span> <span class="n">ptr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"var["</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">"] 的值为 "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="c1">// 使用指针递增来访问下一个数组元素</span>
        <span class="n">ptr</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">var[0]的内存地址为 0x7fff59707adc</span>
<span class="s">var[0] 的值为 </span><span class="m">10</span>
<span class="s">var[1]的内存地址为 0x7fff59707ae0</span>
<span class="s">var[1] 的值为 </span><span class="m">100</span>
<span class="s">var[2]的内存地址为 0x7fff59707ae4</span>
<span class="s">var[2] 的值为 </span><span class="m">200</span>
</code></pre></div></div>

<p>在这个示例中，<code class="language-plaintext highlighter-rouge">ptr</code> 是一个指针，它首先指向数组 <code class="language-plaintext highlighter-rouge">var</code> 的首元素。通过指针递增 <code class="language-plaintext highlighter-rouge">ptr++</code>，指针依次指向数组的下一个元素。你可以看到，数组和指针之间的关系非常密切，指针就像是数组名的别名，可以通过指针访问数组元素。</p>

<h4 id="ii数组名和指针常量"><span style="color: rgb(32,178,170);"><strong>II.数组名和指针常量</strong></span></h4>

<p>虽然数组名在表达式中表现得像一个指针，但它本质上是一个指向数组首元素的常量指针。这意味着你不能修改数组名本身（即使数组是静态分配的），只能通过修改数组元素的值来修改数组内容。</p>

<p><span style="color: rgb(238,130,238);"><strong>错误示例：</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">MAX</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">var</span><span class="p">[</span><span class="n">MAX</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">};</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="o">*</span><span class="n">var</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>    <span class="c1">// 正确：修改 var[0] 的值</span>
        <span class="n">var</span><span class="o">++</span><span class="p">;</span>       <span class="c1">// 错误：试图修改数组名 var，它是一个常量指针</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>在上面的代码中，<code class="language-plaintext highlighter-rouge">*var = i;</code> 是合法的，它会将 <code class="language-plaintext highlighter-rouge">var[0]</code> 的值设置为 <code class="language-plaintext highlighter-rouge">i</code>。但是，<code class="language-plaintext highlighter-rouge">var++</code> 是不合法的，因为 <code class="language-plaintext highlighter-rouge">var</code> 是一个指向数组首元素的常量指针，不能修改 <code class="language-plaintext highlighter-rouge">var</code> 的值。数组名本质上是一个常量指针，指向数组的第一个元素，因此你无法更改它的值。</p>

<h4 id="iii-使用指针语法访问数组元素"><span style="color: rgb(32,178,170);"><strong>III. 使用指针语法访问数组元素</strong></span></h4>

<p>虽然数组名本身不能作为左值（即不能直接修改数组名），但你可以使用指针语法来修改数组的元素。例如，下面的代码演示了如何通过指针运算来访问和修改数组元素。</p>

<p><span style="color: rgb(238,130,238);"><strong>有效示例：</strong></span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">MAX</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">var</span><span class="p">[</span><span class="n">MAX</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">};</span>
    <span class="c1">// 使用指针运算修改 var[2] 的值</span>
    <span class="o">*</span><span class="p">(</span><span class="n">var</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span>
    <span class="c1">// 输出修改后的数组元素</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"var["</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">"] = "</span> <span class="o">&lt;&lt;</span> <span class="n">var</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">var[0] = </span><span class="m">10</span>
<span class="s">var[1] = </span><span class="m">100</span>
<span class="s">var[2] = </span><span class="m">500</span>
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">*(var + 2) = 500;</code> 是合法的，因为 <code class="language-plaintext highlighter-rouge">var + 2</code> 计算的是数组中第 3 个元素的地址（即 <code class="language-plaintext highlighter-rouge">var[2]</code>）。通过指针语法，可以修改数组中的元素，而不需要直接修改数组名。</p>

<h4 id="iv-数组与指针的区别"><span style="color: rgb(32,178,170);"><strong>IV. 数组与指针的区别</strong></span></h4>

<p>尽管指针和数组在很多情况下可以互换，但它们仍然有一些本质的区别：</p>

<ol>
  <li>
    <p><strong>数组名是常量</strong>：数组名是指向数组首元素的常量指针，不能改变。例如，<code class="language-plaintext highlighter-rouge">var++</code> 是非法的，因为 <code class="language-plaintext highlighter-rouge">var</code> 是常量指针。</p>
  </li>
  <li>
    <p><strong>指针可以修改</strong>：指针本身是变量，可以改变其指向的内存位置。例如，你可以通过 <code class="language-plaintext highlighter-rouge">ptr++</code> 来改变指针指向数组中的下一个元素。</p>
  </li>
  <li>
    <p><strong>数组大小固定</strong>：数组在定义时大小固定，不可改变。例如，<code class="language-plaintext highlighter-rouge">int var[3]</code> 定义了一个大小为 3 的数组。</p>
  </li>
  <li>
    <p><strong>指针可以指向动态分配的内存</strong>：指针可以动态地指向通过 <code class="language-plaintext highlighter-rouge">new</code> 或 <code class="language-plaintext highlighter-rouge">malloc</code> 分配的内存区域，这使得它们比数组更灵活。</p>
  </li>
</ol>

<h3 id="总结-1"><span style="color: rgb(32,178,170);"><strong>总结</strong></span></h3>

<ul>
  <li>数组名和指针紧密相关，但数组名是常量指针，不能修改。</li>
  <li>可以通过指针语法来访问和修改数组元素，但不能修改数组名本身。</li>
  <li>指针比数组更加灵活，因为指针可以指向动态分配的内存，并且可以通过算术运算调整指向的内存位置。</li>
</ul>

<p>了解指针和数组之间的关系，以及它们各自的特性，有助于编写更高效、更灵活的 C++ 程序。</p>

<h3 id="4c-指针数组"><span style="color: rgb(0,191,255);"><strong>4.C++ 指针数组</strong></span></h3>

<p>在 C++ 中，指针数组是一个存储指针的数组。指针数组的每个元素都是一个指向某种数据类型的指针。与普通的数组不同，指针数组的元素不是直接存储数据，而是存储数据的地址。</p>

<p>让我们先通过一些简单的实例来理解指针数组的概念。</p>

<h4 id="i-普通数组的例子"><span style="color: rgb(32,178,170);"><strong>I. 普通数组的例子</strong></span></h4>

<p>首先，来看一个普通的整型数组的例子。我们有一个包含 3 个整型元素的数组 <code class="language-plaintext highlighter-rouge">var</code>：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">MAX</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">var</span><span class="p">[</span><span class="n">MAX</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">};</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Value of var["</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">"] = "</span> <span class="o">&lt;&lt;</span> <span class="n">var</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">Value of var[0] = </span><span class="m">10</span>
<span class="s">Value of var[1] = </span><span class="m">100</span>
<span class="s">Value of var[2] = </span><span class="m">200</span>
</code></pre></div></div>

<p>这个例子演示了如何声明一个数组，并使用数组的索引来访问每个元素。</p>

<h4 id="ii-指针数组的定义"><span style="color: rgb(32,178,170);"><strong>II. 指针数组的定义</strong></span></h4>

<p>接下来，假设我们希望创建一个数组，该数组的每个元素都是一个指向整数的指针。那么，我们就可以使用指针数组。下面是一个包含 3 个整型指针的数组 <code class="language-plaintext highlighter-rouge">ptr</code> 的例子：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">MAX</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">var</span><span class="p">[</span><span class="n">MAX</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">};</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">ptr</span><span class="p">[</span><span class="n">MAX</span><span class="p">];</span>  <span class="c1">// 定义一个指向整型的指针数组</span>
    <span class="c1">// 将 ptr 中的每个元素指向 var 数组中的元素</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">ptr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">var</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="c1">// 将指针指向 var[i] 的地址</span>
    <span class="p">}</span>
    <span class="c1">// 输出 ptr 数组指向的值</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Value of var["</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">"] = "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">Value of var[0] = </span><span class="m">10</span>
<span class="s">Value of var[1] = </span><span class="m">100</span>
<span class="s">Value of var[2] = </span><span class="m">200</span>
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">ptr</code> 是一个指向整型的指针数组。我们将 <code class="language-plaintext highlighter-rouge">ptr[i]</code> 赋值为 <code class="language-plaintext highlighter-rouge">&amp;var[i]</code>，即将 <code class="language-plaintext highlighter-rouge">ptr[i]</code> 指向 <code class="language-plaintext highlighter-rouge">var[i]</code> 的地址。然后，通过解引用 <code class="language-plaintext highlighter-rouge">*ptr[i]</code> 来输出存储在 <code class="language-plaintext highlighter-rouge">var[i]</code> 中的值。</p>

<h4 id="iii-使用指针数组存储字符串"><span style="color: rgb(32,178,170);"><strong>III. 使用指针数组存储字符串</strong></span></h4>

<p>指针数组不仅可以存储整数的地址，还可以存储字符串的地址。比如，下面是一个指向字符的指针数组，它存储了多个字符串的地址：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">MAX</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">names</span><span class="p">[</span><span class="n">MAX</span><span class="p">]</span> <span class="o">=</span><span class="p">{</span>
        <span class="s">"Zara Ali"</span><span class="p">,</span>
        <span class="s">"Hina Ali"</span><span class="p">,</span>
        <span class="s">"Nuha Ali"</span><span class="p">,</span>
        <span class="s">"Sara Ali"</span>
    <span class="p">};</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Value of names["</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">"] = "</span> <span class="o">&lt;&lt;</span> <span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">Value of names[0] = Zara Ali</span>
<span class="s">Value of names[1] = Hina Ali</span>
<span class="s">Value of names[2] = Nuha Ali</span>
<span class="s">Value of names[3] = Sara Ali</span>
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">names</code> 是一个指向常量字符的指针数组，每个元素指向一个字符串常量。通过遍历数组并输出每个指针所指向的字符串，我们可以显示出这些字符串的值。</p>

<h4 id="总结-2"><span style="color: rgb(32,178,170);"><strong>总结</strong></span></h4>

<p>指针数组允许你存储多个指向不同数据类型的指针，这样可以方便地访问和操作多个数据。指针数组的主要特点是：</p>

<ul>
  <li><strong>指针数组的每个元素都是一个指针</strong>：这些指针可以指向相同或不同的数据类型。</li>
  <li><strong>指针数组和普通数组的区别</strong>：普通数组存储数据的值，而指针数组存储数据的地址。</li>
  <li><strong>用途</strong>：指针数组可以用来存储一组动态数据、字符串列表，甚至可以存储指向结构体或其他复杂类型的指针。</li>
</ul>

<p>通过指针数组，我们可以灵活地操作一组指向不同数据的指针，使得 C++ 中的内存操作更加高效和灵活。</p>

<h3 id="5c-指向指针的指针多级间接寻址"><span style="color: rgb(0,191,255);"><strong>5.C++ 指向指针的指针（多级间接寻址）</strong></span></h3>

<p>在 C++ 中，<strong>指向指针的指针</strong>（也叫做多级间接寻址）是指一个指针变量存储另一个指针的地址，进而可以通过该指针访问实际存储的数据。这种方式的指针链可以更深层次地访问内存内容。</p>

<h4 id="i-定义指向指针的指针"><span style="color: rgb(32,178,170);"><strong>I. 定义指向指针的指针</strong></span></h4>

<p>指向指针的指针是通过在指针声明中使用两个星号 <code class="language-plaintext highlighter-rouge">**</code> 来实现的。例如，<code class="language-plaintext highlighter-rouge">int **ptr</code> 声明了一个指向整型指针的指针。</p>

<h3 id="ii-指向指针的指针的操作"><span style="color: rgb(32,178,170);"><strong>II. 指向指针的指针的操作</strong></span></h3>

<p>假设我们有一个变量 <code class="language-plaintext highlighter-rouge">var</code>，它存储了某个值。然后，我们有一个指向 <code class="language-plaintext highlighter-rouge">var</code> 的指针 <code class="language-plaintext highlighter-rouge">ptr</code>，接着，再声明一个指向 <code class="language-plaintext highlighter-rouge">ptr</code> 的指针 <code class="language-plaintext highlighter-rouge">pptr</code>。这就是一个指向指针的指针的例子。</p>

<p>在这个层次结构中：</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">pptr</code> 是指向 <code class="language-plaintext highlighter-rouge">ptr</code> 的指针。</li>
  <li><code class="language-plaintext highlighter-rouge">ptr</code> 是指向 <code class="language-plaintext highlighter-rouge">var</code> 的指针。</li>
  <li><code class="language-plaintext highlighter-rouge">var</code> 存储了实际的数据。</li>
</ul>

<p>访问 <code class="language-plaintext highlighter-rouge">var</code> 需要通过两次解引用操作：第一次通过 <code class="language-plaintext highlighter-rouge">*ptr</code> 来获取 <code class="language-plaintext highlighter-rouge">var</code> 的地址，第二次通过 <code class="language-plaintext highlighter-rouge">**pptr</code> 来访问 <code class="language-plaintext highlighter-rouge">var</code> 的值。</p>

<h3 id="iii-实例指向指针的指针"><span style="color: rgb(32,178,170);"><strong>III. 实例：指向指针的指针</strong></span></h3>

<p>下面是一个简单的例子，展示了指向指针的指针的用法：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">var</span><span class="p">;</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">ptr</span><span class="p">;</span>
    <span class="kt">int</span> <span class="o">**</span><span class="n">pptr</span><span class="p">;</span>
    <span class="n">var</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">;</span>
    <span class="c1">// 获取 var 的地址</span>
    <span class="n">ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">var</span><span class="p">;</span>
    <span class="c1">// 获取 ptr 的地址</span>
    <span class="n">pptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">ptr</span><span class="p">;</span>
    <span class="c1">// 输出值</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"var 值为 : "</span> <span class="o">&lt;&lt;</span> <span class="n">var</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"*ptr 值为: "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"**pptr 值为: "</span> <span class="o">&lt;&lt;</span> <span class="o">**</span><span class="n">pptr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出结果：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">var 值为 </span><span class="pi">:</span> <span class="m">3000</span>
<span class="nv">*ptr</span> <span class="na">值为</span><span class="pi">:</span> <span class="m">3000</span>
<span class="na">**pptr 值为</span><span class="pi">:</span> <span class="m">3000</span>
</code></pre></div></div>

<h3 id="解释"><span style="color: rgb(238,130,238);"><strong>解释：</strong></span></h3>

<ol>
  <li><strong><code class="language-plaintext highlighter-rouge">var</code></strong> 存储了值 <code class="language-plaintext highlighter-rouge">3000</code>。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">ptr</code></strong> 是一个指针，它存储了 <code class="language-plaintext highlighter-rouge">var</code> 的地址，即 <code class="language-plaintext highlighter-rouge">ptr = &amp;var</code>。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">pptr</code></strong> 是一个指针，它存储了 <code class="language-plaintext highlighter-rouge">ptr</code> 的地址，即 <code class="language-plaintext highlighter-rouge">pptr = &amp;ptr</code>。</li>
</ol>

<p>在输出时：</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">var</code> 存储的是 <code class="language-plaintext highlighter-rouge">3000</code>，直接输出 <code class="language-plaintext highlighter-rouge">var</code> 就得到了 <code class="language-plaintext highlighter-rouge">3000</code>。</li>
  <li><code class="language-plaintext highlighter-rouge">*ptr</code> 解引用 <code class="language-plaintext highlighter-rouge">ptr</code>，得到 <code class="language-plaintext highlighter-rouge">var</code> 的值，即 <code class="language-plaintext highlighter-rouge">3000</code>。</li>
  <li><code class="language-plaintext highlighter-rouge">**pptr</code> 解引用 <code class="language-plaintext highlighter-rouge">pptr</code> 两次：第一次通过 <code class="language-plaintext highlighter-rouge">*pptr</code> 得到 <code class="language-plaintext highlighter-rouge">ptr</code>，第二次通过 <code class="language-plaintext highlighter-rouge">*ptr</code> 获取 <code class="language-plaintext highlighter-rouge">var</code> 的值 <code class="language-plaintext highlighter-rouge">3000</code>。</li>
</ul>

<h3 id="总结-3"><span style="color: rgb(32,178,170);"><strong>总结</strong></span></h3>

<p>指向指针的指针的主要特点是通过多级间接寻址，可以实现更加复杂的内存访问。这种机制通常用于需要操作指针本身的情况，例如在函数中修改指针的值或处理二维数组时非常有用。通过多级指针，我们能够间接地访问更深层次的内存数据，提供了更大的灵活性和控制。</p>

<h3 id="6c-传递指针给函数"><span style="color: rgb(0,191,255);"><strong>6.C++ 传递指针给函数</strong></span></h3>

<p>在 C++ 中，您可以将指针传递给函数。这种方式允许函数直接操作传递给它的变量或数组，特别是当需要修改传入的值时非常有用。与传值调用相比，传递指针可以节省内存和时间，特别是在处理大型数据结构时。</p>

<h4 id="i-传递指针给函数"><span style="color: rgb(32,178,170);"><strong>I. 传递指针给函数</strong></span></h4>

<p>要传递指针给函数，只需将函数参数声明为指针类型。在函数内部，您可以通过解引用（<code class="language-plaintext highlighter-rouge">*</code>）指针来访问或修改指向的值。</p>

<h3 id="ii-示例-1传递指针给函数"><span style="color: rgb(32,178,170);"><strong>II. 示例 1：传递指针给函数</strong></span></h3>

<p>在下面的例子中，我们传递一个 <code class="language-plaintext highlighter-rouge">unsigned long</code> 型的指针给函数，并在函数内修改这个值。函数 <code class="language-plaintext highlighter-rouge">getSeconds</code> 会通过指针修改传入的 <code class="language-plaintext highlighter-rouge">sec</code> 变量，记录当前的时间戳。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;ctime&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="c1">// 函数声明</span>
<span class="kt">void</span> <span class="nf">getSeconds</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">par</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">sec</span><span class="p">;</span>
    <span class="c1">// 传递 sec 的地址（即指针）</span>
    <span class="n">getSeconds</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sec</span><span class="p">);</span>
    <span class="c1">// 输出实际值</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Number of seconds: "</span> <span class="o">&lt;&lt;</span> <span class="n">sec</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// 函数定义</span>
<span class="kt">void</span> <span class="nf">getSeconds</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">par</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// 使用 *par 来修改传入的变量</span>
    <span class="o">*</span><span class="n">par</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Number of seconds</span><span class="pi">:</span> <span class="m">1294450468</span>
</code></pre></div></div>

<p>在这个示例中：</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">getSeconds</code> 函数接受一个 <code class="language-plaintext highlighter-rouge">unsigned long*</code> 类型的参数，并通过 <code class="language-plaintext highlighter-rouge">*par</code> 访问和修改实际的 <code class="language-plaintext highlighter-rouge">sec</code> 变量。</li>
  <li>在 <code class="language-plaintext highlighter-rouge">main</code> 函数中，我们通过 <code class="language-plaintext highlighter-rouge">&amp;sec</code> 将 <code class="language-plaintext highlighter-rouge">sec</code> 变量的地址传递给 <code class="language-plaintext highlighter-rouge">getSeconds</code>，从而使得该函数能够修改 <code class="language-plaintext highlighter-rouge">sec</code> 的值。</li>
</ul>

<h3 id="iii-示例-2传递指针给数组"><span style="color: rgb(32,178,170);"><strong>III. 示例 2：传递指针给数组</strong></span></h3>

<p>C++ 中，数组的名称本质上就是指向数组第一个元素的指针。因此，您也可以传递一个数组给函数，函数会收到该数组的地址。通过数组指针，函数可以访问和操作数组的元素。</p>

<p>下面的例子展示了如何将数组传递给函数，并计算数组的平均值：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="c1">// 函数声明</span>
<span class="kt">double</span> <span class="nf">getAverage</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">arr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">size</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// 定义一个包含 5 个元素的数组</span>
    <span class="kt">int</span> <span class="n">balance</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">50</span><span class="p">};</span>
    <span class="kt">double</span> <span class="n">avg</span><span class="p">;</span>
    <span class="c1">// 传递指向数组的指针</span>
    <span class="n">avg</span> <span class="o">=</span> <span class="n">getAverage</span><span class="p">(</span><span class="n">balance</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
    <span class="c1">// 输出返回的平均值</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Average value is: "</span> <span class="o">&lt;&lt;</span> <span class="n">avg</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// 函数定义</span>
<span class="kt">double</span> <span class="nf">getAverage</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">arr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">size</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="c1">// 遍历数组，计算和</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="c1">// 计算并返回平均值</span>
    <span class="k">return</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span> <span class="o">/</span> <span class="n">size</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Average value is</span><span class="pi">:</span> <span class="m">214.4</span>
</code></pre></div></div>

<p>在这个示例中：</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">getAverage</code> 函数接受一个指向整数数组的指针和数组的大小 <code class="language-plaintext highlighter-rouge">size</code>，并通过该指针访问数组元素，计算数组的和。</li>
  <li>数组名 <code class="language-plaintext highlighter-rouge">balance</code> 自动转换为指向其第一个元素的指针，因此可以直接传递给函数。</li>
  <li>使用 <code class="language-plaintext highlighter-rouge">arr[i]</code> 访问数组元素，通过指针进行间接访问。</li>
</ul>

<h3 id="总结-4"><span style="color: rgb(32,178,170);"><strong>总结</strong></span></h3>

<ul>
  <li><strong>指针传递</strong>可以让函数修改传入的值，因为函数接收到的是指针，允许它直接访问内存中的数据。</li>
  <li><strong>数组作为指针</strong>：C++ 中，数组名本质上是指向数组首元素的指针，因此，传递数组时实际上就是传递一个指向数组首元素的指针。</li>
  <li><strong>优点</strong>：传递指针比传递整个数组或结构体更高效，特别是当数组或结构体很大时。</li>
</ul>

<p>这种方式不仅有助于函数修改外部变量，还能显著提高效率。</p>

<h3 id="7-从函数返回指针"><span style="color: rgb(0,191,255);"><strong>7.+ 从函数返回指针</strong></span></h3>

<p>C++ 允许从函数返回指针，但需要注意一些细节。最关键的是，返回局部变量的指针是不安全的，因为局部变量在函数返回后会被销毁。不过，如果返回的指针指向的是静态变量或动态分配的内存，则是安全的。</p>

<h3 id="从函数返回指针的基本语法"><span style="color: rgb(32,178,170);"><strong>从函数返回指针的基本语法</strong></span></h3>

<p>为了从函数返回一个指针，您需要声明函数的返回类型为指针类型。例如：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span><span class="o">*</span> <span class="nf">myFunction</span><span class="p">();</span>
</code></pre></div></div>

<p>这表示 <code class="language-plaintext highlighter-rouge">myFunction</code> 是一个返回 <code class="language-plaintext highlighter-rouge">int*</code>（即指向整数的指针）的函数。</p>

<h3 id="注意事项-1"><span style="color: rgb(32,178,170);"><strong>注意事项</strong></span></h3>

<p>C++ 不允许直接返回指向局部变量的指针，因为局部变量在函数结束时会被销毁，返回的指针就变成了悬空指针。这种情况下，使用 <code class="language-plaintext highlighter-rouge">static</code> 关键字定义局部变量可以解决这个问题。使用 <code class="language-plaintext highlighter-rouge">static</code> 关键字声明的变量在函数退出后不会被销毁，它会一直存在直到程序结束。</p>

<p><span style="color: rgb(238,130,238);"><strong>示例：从函数返回指针</strong></span></p>

<p>下面是一个从函数返回指向数组的指针的示例。此函数生成 10 个随机数，并返回一个指向这些随机数的数组的指针。我们使用 <code class="language-plaintext highlighter-rouge">static</code> 关键字来确保返回的指针指向的数组在函数结束后仍然有效。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;ctime&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstdlib&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="c1">// 生成和返回随机数的函数</span>
<span class="kt">int</span><span class="o">*</span> <span class="nf">getRandom</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="kt">int</span> <span class="n">r</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>  <span class="c1">// 静态数组</span>
    <span class="c1">// 设置随机种子</span>
    <span class="n">srand</span><span class="p">((</span><span class="kt">unsigned</span><span class="p">)</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
    <span class="c1">// 生成 10 个随机数</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">rand</span><span class="p">();</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">;</span>  <span class="c1">// 返回指向数组的指针</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// 指向整数的指针</span>
    <span class="kt">int</span><span class="o">*</span> <span class="n">p</span><span class="p">;</span>
    <span class="c1">// 调用函数并获取返回的指针</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">getRandom</span><span class="p">();</span>
    <span class="c1">// 通过指针访问数组元素</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"*(p + "</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">") : "</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="p">(</span><span class="n">p</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="代码解析"><span style="color: rgb(32,178,170);"><strong>代码解析</strong></span></h3>

<ul>
  <li>
    <p><strong>静态数组</strong>：在 <code class="language-plaintext highlighter-rouge">getRandom</code> 函数中，我们声明了一个静态数组 <code class="language-plaintext highlighter-rouge">r[10]</code>。因为它是静态的，它会在函数调用结束后仍然存在，不会被销毁。</p>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">srand</code> 和 <code class="language-plaintext highlighter-rouge">rand</code></strong>：我们使用 <code class="language-plaintext highlighter-rouge">srand</code> 函数设置随机数生成的种子，<code class="language-plaintext highlighter-rouge">rand</code> 函数生成一个随机数并存储到数组 <code class="language-plaintext highlighter-rouge">r</code> 中。</p>
  </li>
  <li>
    <p><strong>返回指针</strong>：函数返回一个指向数组的指针 <code class="language-plaintext highlighter-rouge">r</code>，在 <code class="language-plaintext highlighter-rouge">main</code> 函数中，我们接收这个指针，并通过指针访问数组的元素。</p>
  </li>
</ul>

<p><span style="color: rgb(238,130,238);"><strong>运行结果</strong></span></p>

<p>当代码被编译并执行时，程序会生成并输出 10 个随机数，并通过指针遍历并显示这些随机数：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>624723190
1468735695
807113585
976495677
613357504
1377296355
1530315259
1778906708
1820354158
667126415
*(p + 0) : 624723190
*(p + 1) : 1468735695
*(p + 2) : 807113585
*(p + 3) : 976495677
*(p + 4) : 613357504
*(p + 5) : 1377296355
*(p + 6) : 1530315259
*(p + 7) : 1778906708
*(p + 8) : 1820354158
*(p + 9) : 667126415
</code></pre></div></div>

<h3 id="总结-5"><span style="color: rgb(32,178,170);"><strong>总结</strong></span></h3>

<ul>
  <li><strong>静态局部变量</strong>：如果要从函数返回指向数组或变量的指针，必须确保该变量在函数退出后依然存在。可以使用 <code class="language-plaintext highlighter-rouge">static</code> 关键字来声明静态局部变量，这样它们的生命周期会持续到程序结束。</li>
  <li><strong>返回动态内存</strong>：另一种常见的做法是动态分配内存（使用 <code class="language-plaintext highlighter-rouge">new</code> 或 <code class="language-plaintext highlighter-rouge">malloc</code>），并返回指向动态分配内存的指针。</li>
  <li><strong>避免返回局部变量的指针</strong>：不要返回指向局部非静态变量的指针，因为这些变量会在函数返回后被销毁，导致悬空指针问题。</li>
</ul>

<p>这种方式在需要从函数中返回多个值或者处理动态生成的数据时非常有用。</p>]]></content><author><name>ZJM</name></author><category term="code/algorithm/basic-knowledge" /><category term="Code" /><summary type="html"><![CDATA[指针教程]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/code-cover-8.png" /><media:content medium="image" url="http://localhost:4000/code-cover-8.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">基本的输入输出</title><link href="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Input&Output/" rel="alternate" type="text/html" title="基本的输入输出" /><published>2025-01-07T00:00:00+08:00</published><updated>2025-01-07T00:00:00+08:00</updated><id>http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Input&amp;Output</id><content type="html" xml:base="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/07/Input&amp;Output/"><![CDATA[<h1 id="基本的输入输出"><span style="color: rgb(255,127,80);"><strong>基本的输入输出</strong></span></h1>

<p>C++ 标准库提供了强大的输入/输出（I/O）功能，本章将介绍 C++ 中最基本和最常用的 I/O 操作。</p>

<p>在 C++ 中，所有的 I/O 操作都依赖于流（stream）。流可以看作是一系列字节的传输路径。根据字节流的方向，I/O 操作分为两种类型：</p>

<ul>
  <li><strong>输入操作</strong>：从外部设备（如键盘、磁盘、网络等）读取数据到程序中。</li>
  <li><strong>输出操作</strong>：将程序中的数据输出到外部设备（如显示屏、打印机、磁盘、网络等）。</li>
</ul>

<h3 id="io-库头文件"><span style="color: rgb(0,191,255);"><strong>I/O 库头文件</strong></span></h3>

<p>在 C++ 中，几个头文件提供了不同的 I/O 功能：</p>

<table>
  <thead>
    <tr>
      <th>头文件</th>
      <th>功能说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;iostream&gt;</code></td>
      <td>定义了 <code class="language-plaintext highlighter-rouge">cin</code>、<code class="language-plaintext highlighter-rouge">cout</code>、<code class="language-plaintext highlighter-rouge">cerr</code> 和 <code class="language-plaintext highlighter-rouge">clog</code> 对象，分别用于标准输入流、标准输出流、非缓冲标准错误流和缓冲标准错误流。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;iomanip&gt;</code></td>
      <td>提供流操纵器，如 <code class="language-plaintext highlighter-rouge">setw</code> 和 <code class="language-plaintext highlighter-rouge">setprecision</code>，用于控制输出格式。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;fstream&gt;</code></td>
      <td>提供文件输入输出流，用于处理文件 I/O 操作。</td>
    </tr>
  </tbody>
</table>

<h3 id="标准输出流cout"><span style="color: rgb(0,191,255);"><strong>标准输出流（<code class="language-plaintext highlighter-rouge">cout</code>）</strong></span></h3>

<p><code class="language-plaintext highlighter-rouge">cout</code> 是一个预定义的对象，它是 <code class="language-plaintext highlighter-rouge">iostream</code> 类的一个实例。<code class="language-plaintext highlighter-rouge">cout</code> 与标准输出设备（通常是显示屏）连接。<code class="language-plaintext highlighter-rouge">cout</code> 与流插入运算符 <code class="language-plaintext highlighter-rouge">&lt;&lt;</code> 配合使用，进行数据的输出。</p>

<h4 id="示例-1-输出字符串"><span style="color: rgb(32,178,170);"><strong>示例 1: 输出字符串</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="n">str</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"Hello C++"</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Value of str is : "</span> <span class="o">&lt;&lt;</span> <span class="n">str</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Value of str is </span><span class="pi">:</span> <span class="s">Hello C++</span>
</code></pre></div></div>

<p>在上面的代码中，<code class="language-plaintext highlighter-rouge">&lt;&lt;</code> 运算符用来将 <code class="language-plaintext highlighter-rouge">str</code> 输出到标准输出设备。<code class="language-plaintext highlighter-rouge">endl</code> 会在输出后添加一个换行符，并刷新输出缓冲区。</p>

<h4 id="示例-2-多次使用--运算符"><span style="color: rgb(32,178,170);"><strong>示例 2: 多次使用 <code class="language-plaintext highlighter-rouge">&lt;&lt;</code> 运算符</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">3.14</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Integer: "</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">", Float: "</span> <span class="o">&lt;&lt;</span> <span class="n">y</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Integer</span><span class="pi">:</span> <span class="s">10, Float</span><span class="err">:</span> <span class="m">3.14</span>
</code></pre></div></div>

<h3 id="标准输入流cin">标准输入流（<code class="language-plaintext highlighter-rouge">cin</code>）</h3>

<p><code class="language-plaintext highlighter-rouge">cin</code> 是另一个预定义对象，它同样是 <code class="language-plaintext highlighter-rouge">iostream</code> 类的实例。<code class="language-plaintext highlighter-rouge">cin</code> 与标准输入设备（通常是键盘）连接。<code class="language-plaintext highlighter-rouge">cin</code> 与流提取运算符 <code class="language-plaintext highlighter-rouge">&gt;&gt;</code> 配合使用，进行数据的输入。</p>

<h4 id="示例-3-输入字符串">示例 3: 输入字符串</h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"请输入您的名称："</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">name</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"您的名称是： "</span> <span class="o">&lt;&lt;</span> <span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p><strong>输出：</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>请输入您的名称： cplusplus
您的名称是： cplusplus
</code></pre></div></div>

<p>在此代码中，程序等待用户输入一个字符串。当用户输入完后按下回车键，输入的字符串会通过 <code class="language-plaintext highlighter-rouge">cin</code> 存储在 <code class="language-plaintext highlighter-rouge">name</code> 数组中，并输出到标准输出。</p>

<h4 id="示例-4-输入多个数据">示例 4: 输入多个数据</h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"请输入您的名称和年龄："</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">name</span> <span class="o">&gt;&gt;</span> <span class="n">age</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"您的名称是： "</span> <span class="o">&lt;&lt;</span> <span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">", 年龄是： "</span> <span class="o">&lt;&lt;</span> <span class="n">age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p><strong>输出：</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>请输入您的名称和年龄： Alice 20
您的名称是： Alice, 年龄是： 20
</code></pre></div></div>

<h3 id="标准错误流cerr">标准错误流（<code class="language-plaintext highlighter-rouge">cerr</code>）</h3>

<p><code class="language-plaintext highlighter-rouge">cerr</code> 是一个预定义的对象，它也是 <code class="language-plaintext highlighter-rouge">iostream</code> 类的实例。<code class="language-plaintext highlighter-rouge">cerr</code> 与标准输出设备（通常是显示屏）连接，但是它是<strong>非缓冲的</strong>，意味着每次输出都会立即显示。</p>

<h4 id="示例-5-输出错误信息">示例 5: 输出错误信息</h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">str</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"Unable to read file"</span><span class="p">;</span>
    <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"Error message: "</span> <span class="o">&lt;&lt;</span> <span class="n">str</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p><strong>输出：</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error message: Unable to read file
</code></pre></div></div>

<h3 id="标准日志流clog">标准日志流（<code class="language-plaintext highlighter-rouge">clog</code>）</h3>

<p><code class="language-plaintext highlighter-rouge">clog</code> 也是 <code class="language-plaintext highlighter-rouge">iostream</code> 类的实例。与 <code class="language-plaintext highlighter-rouge">cerr</code> 类似，它输出到标准输出设备，但与 <code class="language-plaintext highlighter-rouge">cerr</code> 不同的是，<code class="language-plaintext highlighter-rouge">clog</code> 是<strong>缓冲的</strong>，即输出内容会先存入缓冲区，直到缓冲区满或手动刷新才会显示。</p>

<h4 id="示例-6-输出日志信息">示例 6: 输出日志信息</h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">str</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"Processing started..."</span><span class="p">;</span>
    <span class="n">clog</span> <span class="o">&lt;&lt;</span> <span class="s">"Log message: "</span> <span class="o">&lt;&lt;</span> <span class="n">str</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p><strong>输出：</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Log message: Processing started...
</code></pre></div></div>

<h3 id="coutcerr-和-clog-的区别"><code class="language-plaintext highlighter-rouge">cout</code>、<code class="language-plaintext highlighter-rouge">cerr</code> 和 <code class="language-plaintext highlighter-rouge">clog</code> 的区别</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">cout</code> 用于常规的输出操作，输出到标准屏幕。</li>
  <li><code class="language-plaintext highlighter-rouge">cerr</code> 用于错误信息的输出，并且是非缓冲的，每次输出都立即显示。</li>
  <li><code class="language-plaintext highlighter-rouge">clog</code> 用于日志信息的输出，并且是缓冲的，输出会先存储在缓冲区，直到缓冲区填满或者手动刷新时才显示。</li>
</ul>

<h3 id="小结">小结</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">cout</code> 用于正常输出，通常用于显示程序的结果。</li>
  <li><code class="language-plaintext highlighter-rouge">cerr</code> 用于输出错误信息，适合显示程序出错时的信息。</li>
  <li><code class="language-plaintext highlighter-rouge">clog</code> 用于输出日志信息，可以缓冲输出，适合记录程序执行过程中的一些事件。</li>
</ul>

<p>通过合理使用这些流，我们可以更清晰地组织和管理程序的输入输出操作，尤其是在大型程序中，区分正常输出、错误信息和日志信息是非常重要的。</p>

<hr />

<p>这个版本增加了详细的示例，解释了每个流的用途，并且通过多个代码实例帮助用户更好地理解各个流的不同特性。如果你有任何进一步的问题或需要更多的例子，可以告诉我！</p>]]></content><author><name>ZJM</name></author><category term="code/algorithm/basic-knowledge" /><category term="Code" /><summary type="html"><![CDATA[基本的输入输出]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/code-cover-8.png" /><media:content medium="image" url="http://localhost:4000/code-cover-8.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">常量</title><link href="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/06/Constant/" rel="alternate" type="text/html" title="常量" /><published>2025-01-06T00:00:00+08:00</published><updated>2025-01-06T00:00:00+08:00</updated><id>http://localhost:4000/code/algorithm/basic-knowledge/2025/01/06/Constant</id><content type="html" xml:base="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/06/Constant/"><![CDATA[<h1 id="常量"><span style="color: rgb(255,127,80);"><strong>常量</strong></span></h1>

<p>常量是指在程序执行期间固定不变的值。常量也称为字面量，其值在定义后不能修改。常量可以是任何基本数据类型，如整数、浮点数、字符、字符串和布尔值。常量与变量类似，只是其值在定义后不可改变。</p>

<p>在定义常量时，建议使用大写字母形式。这是一种良好的编程习惯，便于与普通变量区分开来。</p>

<hr />

<h3 id="1整数常量"><span style="color: rgb(0,191,255);"><strong>1.整数常量</strong></span></h3>

<p>整数常量有多种表示方式，可以是十进制、八进制或十六进制。基数通过前缀指定：</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">0x</code> 或 <code class="language-plaintext highlighter-rouge">0X</code> 表示十六进制。</li>
  <li><code class="language-plaintext highlighter-rouge">0</code> 表示八进制。</li>
  <li>不带前缀表示十进制。</li>
</ul>

<p>整数常量还可以带有后缀，指定其类型：</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">u</code> 或 <code class="language-plaintext highlighter-rouge">U</code> 表示无符号整数（unsigned）。</li>
  <li><code class="language-plaintext highlighter-rouge">l</code> 或 <code class="language-plaintext highlighter-rouge">L</code> 表示长整数（long）。</li>
</ul>

<p>后缀的顺序和大小写不敏感。</p>

<h4 id="合法示例"><span style="color: rgb(238,130,238);"><strong>合法示例：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">212</span>        <span class="c1">// 十进制</span>
<span class="mi">215u</span>       <span class="c1">// 无符号整数</span>
<span class="mh">0xFeeL</span>     <span class="c1">// 十六进制，长整数</span>
</code></pre></div></div>

<h4 id="非法示例"><span style="color: rgb(238,130,238);"><strong>非法示例：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mo">07</span><span class="mi">8</span>        <span class="c1">// 非法：8 不是八进制的数字</span>
<span class="mo">032UU</span>      <span class="c1">// 非法：不能重复后缀</span>
</code></pre></div></div>

<h4 id="各种类型的整数常量示例"><span style="color: rgb(238,130,238);"><strong>各种类型的整数常量示例：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">85</span>          <span class="c1">// 十进制</span>
<span class="mo">0213</span>        <span class="c1">// 八进制</span>
<span class="mh">0x4b</span>        <span class="c1">// 十六进制</span>
<span class="mi">30</span>          <span class="c1">// 整数</span>
<span class="mi">30u</span>         <span class="c1">// 无符号整数</span>
<span class="mi">30l</span>         <span class="c1">// 长整数</span>
<span class="mi">30ul</span>        <span class="c1">// 无符号长整数</span>
</code></pre></div></div>

<h3 id="2浮点常量"><span style="color: rgb(0,191,255);"><strong>2.浮点常量</strong></span></h3>

<p>浮点常量由整数部分、小数点、小数部分和指数部分组成。可以使用小数形式或指数形式表示。</p>

<ul>
  <li>小数形式：必须包含整数部分、小数部分或两者。</li>
  <li>指数形式：必须包含小数点和指数部分，或同时包含两者，指数使用 <code class="language-plaintext highlighter-rouge">e</code> 或 <code class="language-plaintext highlighter-rouge">E</code> 引入。</li>
</ul>

<h4 id="合法示例-1"><span style="color: rgb(238,130,238);"><strong>合法示例：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mf">3.14159</span>       <span class="c1">// 小数形式</span>
<span class="mf">314159E-5L</span>     <span class="c1">// 指数形式，长浮点数</span>
</code></pre></div></div>

<h4 id="非法示例-1"><span style="color: rgb(238,130,238);"><strong>非法示例：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">510</span><span class="n">E</span>          <span class="c1">// 非法：不完整的指数</span>
<span class="mi">210</span><span class="n">f</span>          <span class="c1">// 非法：缺少小数或指数</span>
<span class="p">.</span><span class="n">e55</span>          <span class="c1">// 非法：缺少整数或分数</span>
</code></pre></div></div>

<h3 id="3布尔常量"><span style="color: rgb(0,191,255);"><strong>3.布尔常量</strong></span></h3>

<p>布尔常量有两个值，分别是 <code class="language-plaintext highlighter-rouge">true</code> 和 <code class="language-plaintext highlighter-rouge">false</code>，它们表示真和假。在 C++ 中，不应将 <code class="language-plaintext highlighter-rouge">true</code> 视为 1，<code class="language-plaintext highlighter-rouge">false</code> 视为 0。</p>

<h3 id="4字符常量"><span style="color: rgb(0,191,255);"><strong>4.字符常量</strong></span></h3>

<p>字符常量用单引号 <code class="language-plaintext highlighter-rouge">'</code> 括起来。如果常量前有 <code class="language-plaintext highlighter-rouge">L</code>（仅当大写时），则表示宽字符常量（例如 <code class="language-plaintext highlighter-rouge">L'x'</code>）。否则，它是窄字符常量（例如 <code class="language-plaintext highlighter-rouge">'x'</code>）。</p>

<p>字符常量可以是普通字符、转义序列或通用字符。常见的转义序列如下：</p>

<table>
  <thead>
    <tr>
      <th>转义序列</th>
      <th>含义</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\\</code></td>
      <td>反斜杠字符</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\'</code></td>
      <td>单引号字符</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\"</code></td>
      <td>双引号字符</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\?</code></td>
      <td>问号字符</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\a</code></td>
      <td>警报铃声</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\b</code></td>
      <td>退格键</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\f</code></td>
      <td>换页符</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\n</code></td>
      <td>换行符</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\r</code></td>
      <td>回车</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\t</code></td>
      <td>水平制表符</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\v</code></td>
      <td>垂直制表符</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\ooo</code></td>
      <td>八进制数</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\xhh...</code></td>
      <td>十六进制数</td>
    </tr>
  </tbody>
</table>

<h4 id="示例"><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Hello</span><span class="se">\t</span><span class="s">World</span><span class="se">\n\n</span><span class="s">"</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="输出"><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">Hello   World</span>
</code></pre></div></div>

<h3 id="5字符串常量"><span style="color: rgb(0,191,255);"><strong>5.字符串常量</strong></span></h3>

<p>字符串字面量由双引号 <code class="language-plaintext highlighter-rouge">""</code> 括起来，包含普通字符、转义序列和通用字符。可以使用 <code class="language-plaintext highlighter-rouge">\</code> 将长字符串拆分为多行。</p>

<h4 id="示例-1"><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">string</span> <span class="n">greeting</span> <span class="o">=</span> <span class="s">"hello, runoob"</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">greeting</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>  <span class="c1">// 换行符</span>
    <span class="n">string</span> <span class="n">greeting2</span> <span class="o">=</span> <span class="s">"hello, \
                        runoob"</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">greeting2</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="输出-1"><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">hello, runoob</span>
<span class="s">hello, runoob</span>
</code></pre></div></div>

<hr />

<h3 id="定义常量"><span style="color: rgb(32,178,170);"><strong>定义常量</strong></span></h3>

<p>在 C++ 中，有两种常见的定义常量的方式：</p>

<ol>
  <li><strong>使用 <code class="language-plaintext highlighter-rouge">#define</code> 预处理器</strong></li>
  <li><strong>使用 <code class="language-plaintext highlighter-rouge">const</code> 关键字</strong></li>
</ol>

<h4 id="1使用-define-预处理器"><span style="color: rgb(0,191,255);"><strong>1.使用 <code class="language-plaintext highlighter-rouge">#define</code> 预处理器：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define identifier value
</span></code></pre></div></div>

<h4 id="示例-2"><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="cp">#define LENGTH 10
#define WIDTH 5
#define NEWLINE '\n'
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">area</span> <span class="o">=</span> <span class="n">LENGTH</span> <span class="o">*</span> <span class="n">WIDTH</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">area</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">NEWLINE</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="输出-2"><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="m">50</span>
</code></pre></div></div>

<h4 id="2使用-const-关键字"><span style="color: rgb(0,191,255);"><strong>2.使用 <code class="language-plaintext highlighter-rouge">const</code> 关键字：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">const</span> <span class="n">type</span> <span class="n">variable</span> <span class="o">=</span> <span class="n">value</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="示例-3"><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">LENGTH</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="n">NEWLINE</span> <span class="o">=</span> <span class="sc">'\n'</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">area</span> <span class="o">=</span> <span class="n">LENGTH</span> <span class="o">*</span> <span class="n">WIDTH</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">area</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">NEWLINE</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="输出-3"><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="m">50</span>
</code></pre></div></div>]]></content><author><name>ZJM</name></author><category term="code/algorithm/basic-knowledge" /><category term="Code" /><summary type="html"><![CDATA[常量]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/code-cover-10.png" /><media:content medium="image" url="http://localhost:4000/code-cover-10.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">基本数据类型</title><link href="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Variable-Types/" rel="alternate" type="text/html" title="基本数据类型" /><published>2025-01-05T00:00:00+08:00</published><updated>2025-01-05T00:00:00+08:00</updated><id>http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Variable%20Types</id><content type="html" xml:base="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Variable-Types/"><![CDATA[<h1 id="基本数据类型"><span style="color: rgb(255,127,80);"><strong>基本数据类型</strong></span></h1>

<p>在 C++ 中，<strong>变量</strong>是程序中用于存储数据的命名存储区。每个变量都有一个指定的类型，类型决定了变量所占用的内存大小、数据布局及可以存储的数据值范围。</p>

<p>变量的名称由字母、数字和下划线组成，但必须以字母或下划线开头。需要注意的是，C++ 区分大小写，即大写字母和小写字母被视为不同的字符。</p>

<hr />

<p>在 C++ 中，基本数据类型主要有以下几种：</p>

<h3 id="1-基本数据类型"><span style="color: rgb(0,191,255);"><strong>1. 基本数据类型</strong></span></h3>

<table>
  <thead>
    <tr>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td>布尔类型，存储值 <code class="language-plaintext highlighter-rouge">true</code> 或 <code class="language-plaintext highlighter-rouge">false</code>，占用 1 个字节。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">char</code></td>
      <td>字符类型，用于存储 ASCII 字符，通常占用 1 个字节。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">int</code></td>
      <td>整数类型，通常用于存储普通整数，通常占用 4 个字节。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">float</code></td>
      <td>单精度浮点数类型，通常占用 4 个字节，存储 1 位符号、8 位指数和 23 位小数。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">double</code></td>
      <td>双精度浮点数类型，通常占用 8 个字节，存储 1 位符号、11 位指数和 52 位小数。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">void</code></td>
      <td>无类型，表示函数不返回值或指针没有类型。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">wchar_t</code></td>
      <td>宽字符类型，存储更大范围的字符，通常占用 2 或 4 个字节。</td>
    </tr>
  </tbody>
</table>

<h5 id="基本数据类型示例"><span style="color: rgb(32,178,170);"><strong>基本数据类型示例</strong></span></h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> 
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">flag</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>        <span class="c1">// 布尔类型</span>
    <span class="kt">char</span> <span class="n">letter</span> <span class="o">=</span> <span class="sc">'A'</span><span class="p">;</span>       <span class="c1">// 字符类型</span>
    <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span>            <span class="c1">// 整数类型</span>
    <span class="kt">float</span> <span class="n">pi</span> <span class="o">=</span> <span class="mf">3.14</span><span class="n">f</span><span class="p">;</span>        <span class="c1">// 单精度浮点数</span>
    <span class="kt">double</span> <span class="n">piApprox</span> <span class="o">=</span> <span class="mf">3.14159</span><span class="p">;</span> <span class="c1">// 双精度浮点数</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Flag: "</span> <span class="o">&lt;&lt;</span> <span class="n">flag</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Letter: "</span> <span class="o">&lt;&lt;</span> <span class="n">letter</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Age: "</span> <span class="o">&lt;&lt;</span> <span class="n">age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Pi: "</span> <span class="o">&lt;&lt;</span> <span class="n">pi</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Pi Approx: "</span> <span class="o">&lt;&lt;</span> <span class="n">piApprox</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>输出：</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">复制代码</span>
<span class="na">Flag</span><span class="pi">:</span> <span class="m">1</span>
<span class="na">Letter</span><span class="pi">:</span> <span class="s">A</span>
<span class="na">Age</span><span class="pi">:</span> <span class="m">25</span>
<span class="na">Pi</span><span class="pi">:</span> <span class="m">3.14</span>
<span class="na">Pi Approx</span><span class="pi">:</span> <span class="m">3.14159</span>
</code></pre></div></div>

<h3 id="2-整数类型"><span style="color: rgb(0,191,255);"><strong>2. 整数类型</strong></span></h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">int</code>: 用于表示普通整数，通常占用 4 个字节。</li>
  <li><code class="language-plaintext highlighter-rouge">short</code>: 短整数，通常占用 2 个字节。</li>
  <li><code class="language-plaintext highlighter-rouge">long</code>: 长整数，通常占用 4 个字节。</li>
  <li><code class="language-plaintext highlighter-rouge">long long</code>: 更长的整数，通常占用 8 个字节。</li>
</ul>

<h5 id="整数类型示例"><span style="color: rgb(32,178,170);"><strong>整数类型示例</strong></span></h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> 
<span class="p">{</span>
    <span class="kt">short</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">32767</span><span class="p">;</span>        <span class="c1">// 短整数类型，最大值</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">100000</span><span class="p">;</span>         <span class="c1">// 普通整数类型</span>
    <span class="kt">long</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">1000000000</span><span class="p">;</span>    <span class="c1">// 长整数类型</span>
    <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span> <span class="o">=</span> <span class="mi">1000000000000</span><span class="p">;</span> <span class="c1">// 超长整数类型</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Short: "</span> <span class="o">&lt;&lt;</span> <span class="n">s</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Int: "</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Long: "</span> <span class="o">&lt;&lt;</span> <span class="n">l</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Long Long: "</span> <span class="o">&lt;&lt;</span> <span class="n">ll</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>输出：</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Short</span><span class="pi">:</span> <span class="m">32767</span>
<span class="na">Int</span><span class="pi">:</span> <span class="m">100000</span>
<span class="na">Long</span><span class="pi">:</span> <span class="m">1000000000</span>
<span class="na">Long Long</span><span class="pi">:</span> <span class="m">1000000000000</span>
</code></pre></div></div>

<h3 id="3-浮点类型"><span style="color: rgb(0,191,255);"><strong>3. 浮点类型</strong></span></h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">float</code>: 单精度浮点数，通常占用 4 个字节。</li>
  <li><code class="language-plaintext highlighter-rouge">double</code>: 双精度浮点数，通常占用 8 个字节。</li>
  <li><code class="language-plaintext highlighter-rouge">long double</code>: 高精度浮点数，占用字节数根据系统不同而变化。</li>
</ul>

<h5 id="浮点类型示例"><span style="color: rgb(32,178,170);"><strong>浮点类型示例</strong></span></h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> 
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">piFloat</span> <span class="o">=</span> <span class="mf">3.14159</span><span class="n">f</span><span class="p">;</span>  <span class="c1">// 单精度浮点数</span>
    <span class="kt">double</span> <span class="n">piDouble</span> <span class="o">=</span> <span class="mf">3.1415926535</span><span class="p">;</span> <span class="c1">// 双精度浮点数</span>
    <span class="kt">long</span> <span class="kt">double</span> <span class="n">piLongDouble</span> <span class="o">=</span> <span class="mf">3.14159265358979323846</span><span class="p">;</span> <span class="c1">// 高精度浮点数</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Float Pi: "</span> <span class="o">&lt;&lt;</span> <span class="n">piFloat</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Double Pi: "</span> <span class="o">&lt;&lt;</span> <span class="n">piDouble</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Long Double Pi: "</span> <span class="o">&lt;&lt;</span> <span class="n">piLongDouble</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>输出：</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Float Pi</span><span class="pi">:</span> <span class="m">3.14159</span>
<span class="na">Double Pi</span><span class="pi">:</span> <span class="m">3.14159</span>
<span class="na">Long Double Pi</span><span class="pi">:</span> <span class="m">3.14159</span>
</code></pre></div></div>

<h3 id="4-字符类型"><span style="color: rgb(0,191,255);"><strong>4. 字符类型</strong></span></h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">char</code>: 单字节字符，通常占用 1 个字节。</li>
  <li><code class="language-plaintext highlighter-rouge">wchar_t</code>: 宽字符，通常占用 2 或 4 个字节。</li>
  <li><code class="language-plaintext highlighter-rouge">char16_t</code>: 16 位 Unicode 字符，占用 2 个字节。</li>
  <li><code class="language-plaintext highlighter-rouge">char32_t</code>: 32 位 Unicode 字符，占用 4 个字节。</li>
</ul>

<h5 id="字符类型示例"><span style="color: rgb(32,178,170);"><strong>字符类型示例</strong></span></h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="sc">'A'</span><span class="p">;</span>             <span class="c1">// 字符类型</span>
    <span class="kt">wchar_t</span> <span class="n">wc</span> <span class="o">=</span> <span class="sc">L'你'</span><span class="p">;</span>        <span class="c1">// 宽字符类型</span>
    <span class="kt">char16_t</span> <span class="n">c16</span> <span class="o">=</span> <span class="sc">u'你'</span><span class="p">;</span>      <span class="c1">// 16位 Unicode 字符</span>
    <span class="kt">char32_t</span> <span class="n">c32</span> <span class="o">=</span> <span class="sc">U'你'</span><span class="p">;</span>      <span class="c1">// 32位 Unicode 字符</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Char: "</span> <span class="o">&lt;&lt;</span> <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Wide Char: "</span> <span class="o">&lt;&lt;</span> <span class="n">wc</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Char16_t: "</span> <span class="o">&lt;&lt;</span> <span class="n">c16</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Char32_t: "</span> <span class="o">&lt;&lt;</span> <span class="n">c32</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>输出：</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Char</span><span class="pi">:</span> <span class="s">A</span>
<span class="na">Wide Char</span><span class="pi">:</span> <span class="s">你</span>
<span class="na">Char16_t</span><span class="pi">:</span> <span class="s">你</span>
<span class="na">Char32_t</span><span class="pi">:</span> <span class="s">你</span>
</code></pre></div></div>

<hr />

<h3 id="变量定义与声明">变量定义与声明</h3>

<h4 id="1-变量定义">1. 变量定义</h4>

<p>在 C++ 中，<strong>定义变量</strong>时指定其类型，并为该类型创建存储空间。例如：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">type</span> <span class="n">variable_list</span><span class="p">;</span>
</code></pre></div></div>

<p>其中 <code class="language-plaintext highlighter-rouge">type</code> 是有效的 C++ 数据类型，<code class="language-plaintext highlighter-rouge">variable_list</code> 是一个或多个变量名（以逗号分隔）。例如：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">c</span><span class="p">,</span> <span class="n">ch</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">f</span><span class="p">,</span> <span class="n">salary</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">d</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="示例变量定义">示例：变量定义</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>  <span class="c1">// 定义并初始化 i 和 j</span>
    <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="sc">'A'</span><span class="p">;</span>            <span class="c1">// 定义字符类型变量 c</span>
    <span class="kt">float</span> <span class="n">f</span> <span class="o">=</span> <span class="mf">3.14</span><span class="n">f</span><span class="p">;</span>         <span class="c1">// 定义浮点数变量 f</span>
    <span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="mf">3.14159</span><span class="p">;</span>      <span class="c1">// 定义双精度浮点数变量 d</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">;</span>               <span class="c1">// 使用变量 i 和 j 计算 k</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"i: "</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">", j: "</span> <span class="o">&lt;&lt;</span> <span class="n">j</span> <span class="o">&lt;&lt;</span> <span class="s">", k: "</span> <span class="o">&lt;&lt;</span> <span class="n">k</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"c: "</span> <span class="o">&lt;&lt;</span> <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="s">", f: "</span> <span class="o">&lt;&lt;</span> <span class="n">f</span> <span class="o">&lt;&lt;</span> <span class="s">", d: "</span> <span class="o">&lt;&lt;</span> <span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>输出：</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">i</span><span class="pi">:</span> <span class="s">10, j</span><span class="err">:</span> <span class="s">20, k</span><span class="err">:</span> <span class="m">30</span>
<span class="na">c</span><span class="pi">:</span> <span class="s">A, f</span><span class="err">:</span> <span class="s">3.14, d</span><span class="err">:</span> <span class="m">3.14159</span>
</code></pre></div></div>

<h4 id="2-变量声明">2. 变量声明</h4>

<p><strong>变量声明</strong>是向编译器保证某个变量在某处存在。声明不需要提供完整的变量定义，仅需指定类型和名称即可。例如：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">extern</span> <span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>  <span class="c1">// 声明变量 a 和 b</span>
<span class="k">extern</span> <span class="kt">float</span> <span class="n">f</span><span class="p">;</span>   <span class="c1">// 声明变量 f</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">extern</code> 关键字用于声明变量，表明该变量在其他地方定义。例如，在多个文件中，你可以在头文件声明变量，在源文件中进行定义。</p>

<h4 id="示例变量声明与定义">示例：变量声明与定义</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>  <span class="c1">// 声明变量 a 和 b</span>
<span class="k">extern</span> <span class="kt">float</span> <span class="n">f</span><span class="p">;</span>   <span class="c1">// 声明变量 f</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>    <span class="c1">// 定义变量 a 和 b</span>
    <span class="kt">float</span> <span class="n">f</span> <span class="o">=</span> <span class="mf">70.0</span> <span class="o">/</span> <span class="mf">3.0</span><span class="p">;</span>  <span class="c1">// 定义并初始化变量 f</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Sum of a and b: "</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"f: "</span> <span class="o">&lt;&lt;</span> <span class="n">f</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>输出：</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Sum of a and b</span><span class="pi">:</span> <span class="m">30</span>
<span class="na">f</span><span class="pi">:</span> <span class="m">23.3333</span>
</code></pre></div></div>

<hr />

<h3 id="左值lvalues与右值rvalues">左值（Lvalues）与右值（Rvalues）</h3>

<p>C++ 中的表达式分为两种类型：</p>

<ul>
  <li><strong>左值（lvalue）</strong>：表示一个内存位置，可以对其进行赋值。左值可以出现在赋值语句的左侧。</li>
  <li><strong>右值（rvalue）</strong>：表示某个具体的值，不能进行赋值。右值通常出现在赋值语句的右侧，但不能出现在左侧。</li>
</ul>

<h4 id="示例左值与右值">示例：左值与右值</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>  <span class="c1">// 变量 x 是左值</span>
    <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>  <span class="c1">// 变量 y 是左值</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>  <span class="c1">// 这是有效的，左值可以赋值</span>
    <span class="c1">// 10 = x; // 错误，10 是右值，不能在赋值语句的左侧</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"x: "</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">", y: "</span> <span class="o">&lt;&lt;</span> <span class="n">y</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>输出：</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">x</span><span class="pi">:</span> <span class="s">20, y</span><span class="err">:</span> <span class="m">20</span>
</code></pre></div></div>]]></content><author><name>ZJM</name></author><category term="code/algorithm/basic-knowledge" /><category term="Code" /><summary type="html"><![CDATA[基本数据类型]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/code-cover-3.png" /><media:content medium="image" url="http://localhost:4000/code-cover-3.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">字符串</title><link href="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Character-String/" rel="alternate" type="text/html" title="字符串" /><published>2025-01-05T00:00:00+08:00</published><updated>2025-01-05T00:00:00+08:00</updated><id>http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Character%20String</id><content type="html" xml:base="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Character-String/"><![CDATA[<h1 id="字符串"><span style="color: rgb(255,127,80);"><strong>字符串</strong></span></h1>

<p>C++ 提供了两种主要的字符串表示方式：</p>

<ol>
  <li><strong>C 风格字符串</strong></li>
  <li><strong>C++ <code class="language-plaintext highlighter-rouge">string</code> 类</strong></li>
</ol>

<p>下面将分别介绍这两种方式。</p>

<h3 id="c-风格字符串"><span style="color: rgb(0,191,255);"><strong>C 风格字符串</strong></span></h3>

<p>C 风格字符串源自 C 语言，并且在 C++ 中也被广泛使用。它们实际上是以空字符 (<code class="language-plaintext highlighter-rouge">\0</code>) 终止的一维字符数组。因此，一个 C 风格的字符串包含了组成字符串的字符，最后由一个 <code class="language-plaintext highlighter-rouge">\0</code> 字符标记字符串的结束。</p>

<h4 id="示例-1-定义-c-风格字符串"><span style="color: rgb(32,178,170);"><strong>示例 1: 定义 C 风格字符串</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// 通过字符数组定义字符串</span>
    <span class="kt">char</span> <span class="n">site</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="sc">'R'</span><span class="p">,</span> <span class="sc">'U'</span><span class="p">,</span> <span class="sc">'N'</span><span class="p">,</span> <span class="sc">'O'</span><span class="p">,</span> <span class="sc">'O'</span><span class="p">,</span> <span class="sc">'B'</span><span class="p">,</span> <span class="sc">'\0'</span><span class="p">};</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"网站名称: "</span> <span class="o">&lt;&lt;</span> <span class="n">site</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>在这个示例中，我们定义了一个字符数组 <code class="language-plaintext highlighter-rouge">site</code>，包含了字符串 “RUNOOB”。由于 C 风格字符串的结束是由 <code class="language-plaintext highlighter-rouge">\0</code> 表示的，所以数组大小比字符串长度多一个字符。</p>

<h4 id="更简洁的写法"><span style="color: rgb(32,178,170);"><strong>更简洁的写法</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// 直接使用字符串常量定义</span>
    <span class="kt">char</span> <span class="n">site</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"RUNOOB"</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"网站名称: "</span> <span class="o">&lt;&lt;</span> <span class="n">site</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>C++ 编译器会自动在字符串的末尾加上 <code class="language-plaintext highlighter-rouge">\0</code>，因此我们不需要手动添加。</p>

<h4 id="示例-2-使用字符串函数"><span style="color: rgb(32,178,170);"><strong>示例 2: 使用字符串函数</strong></span></h4>

<p>C++ 提供了一些函数来操作 C 风格字符串。以下是几个常见函数及其用途：</p>

<table>
  <thead>
    <tr>
      <th>函数</th>
      <th>目的</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">strcpy(s1, s2)</code></td>
      <td>将字符串 <code class="language-plaintext highlighter-rouge">s2</code> 复制到 <code class="language-plaintext highlighter-rouge">s1</code> 中。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">strcat(s1, s2)</code></td>
      <td>将字符串 <code class="language-plaintext highlighter-rouge">s2</code> 连接到 <code class="language-plaintext highlighter-rouge">s1</code> 的末尾。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">strlen(s1)</code></td>
      <td>返回字符串 <code class="language-plaintext highlighter-rouge">s1</code> 的长度（不包括 <code class="language-plaintext highlighter-rouge">\0</code>）。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">strcmp(s1, s2)</code></td>
      <td>比较 <code class="language-plaintext highlighter-rouge">s1</code> 和 <code class="language-plaintext highlighter-rouge">s2</code> 字符串，返回值小于0、等于0或大于0。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">strchr(s1, ch)</code></td>
      <td>返回 <code class="language-plaintext highlighter-rouge">s1</code> 中第一次出现字符 <code class="language-plaintext highlighter-rouge">ch</code> 的位置。</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">strstr(s1, s2)</code></td>
      <td>返回 <code class="language-plaintext highlighter-rouge">s1</code> 中第一次出现字符串 <code class="language-plaintext highlighter-rouge">s2</code> 的位置。</td>
    </tr>
  </tbody>
</table>

<h4 id="示例-3-使用-c-风格字符串操作函数"><span style="color: rgb(32,178,170);"><strong>示例 3: 使用 C 风格字符串操作函数</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstring&gt;</span><span class="c1">  // 引入字符串处理库</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="n">str1</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span> <span class="o">=</span> <span class="s">"runoob"</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">str2</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span> <span class="o">=</span> <span class="s">"google"</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">str3</span><span class="p">[</span><span class="mi">13</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">len</span><span class="p">;</span>
    <span class="c1">// 复制 str1 到 str3</span>
    <span class="n">strcpy</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="n">str1</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"strcpy(str3, str1): "</span> <span class="o">&lt;&lt;</span> <span class="n">str3</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">// 连接 str1 和 str2</span>
    <span class="n">strcat</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"strcat(str1, str2): "</span> <span class="o">&lt;&lt;</span> <span class="n">str1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">// 获取 str1 的长度</span>
    <span class="n">len</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str1</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"strlen(str1): "</span> <span class="o">&lt;&lt;</span> <span class="n">len</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">strcpy(str3, str1)</span><span class="err">:</span> <span class="s">runoob</span>
<span class="s">strcat(str1, str2)</span><span class="err">:</span> <span class="s">runoobgoogle</span>
<span class="na">strlen(str1)</span><span class="pi">:</span> <span class="m">12</span>
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">strcpy</code> 复制了字符串，<code class="language-plaintext highlighter-rouge">strcat</code> 将 <code class="language-plaintext highlighter-rouge">str2</code> 连接到 <code class="language-plaintext highlighter-rouge">str1</code>，而 <code class="language-plaintext highlighter-rouge">strlen</code> 返回了字符串的长度。</p>

<h3 id="c-中的-string-类"><span style="color: rgb(0,191,255);"><strong>C++ 中的 <code class="language-plaintext highlighter-rouge">string</code> 类</strong></span></h3>

<p>C++ 标准库提供了一个更加现代的字符串类——<code class="language-plaintext highlighter-rouge">string</code> 类。它不仅支持 C 风格字符串的常见操作，还提供了更多灵活和高效的方法。这里我们通过一个简单的例子来展示 <code class="language-plaintext highlighter-rouge">string</code> 类的基本用法。</p>

<h4 id="示例-4-使用-string-类"><span style="color: rgb(32,178,170);"><strong>示例 4: 使用 <code class="language-plaintext highlighter-rouge">string</code> 类</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;string&gt;</span><span class="c1">  // 引入 string 库</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">string</span> <span class="n">str1</span> <span class="o">=</span> <span class="s">"runoob"</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">str2</span> <span class="o">=</span> <span class="s">"google"</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">str3</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">len</span><span class="p">;</span>
    <span class="c1">// 复制 str1 到 str3</span>
    <span class="n">str3</span> <span class="o">=</span> <span class="n">str1</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"str3: "</span> <span class="o">&lt;&lt;</span> <span class="n">str3</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">// 连接 str1 和 str2</span>
    <span class="n">str3</span> <span class="o">=</span> <span class="n">str1</span> <span class="o">+</span> <span class="n">str2</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"str1 + str2: "</span> <span class="o">&lt;&lt;</span> <span class="n">str3</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">// 获取 str3 的长度</span>
    <span class="n">len</span> <span class="o">=</span> <span class="n">str3</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"str3.size(): "</span> <span class="o">&lt;&lt;</span> <span class="n">len</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">str3</span><span class="pi">:</span> <span class="s">runoob</span>
<span class="na">str1 + str2</span><span class="pi">:</span> <span class="s">runoobgoogle</span>
<span class="na">str3.size()</span><span class="pi">:</span> <span class="m">12</span>
</code></pre></div></div>

<p>与 C 风格字符串不同，C++ <code class="language-plaintext highlighter-rouge">string</code> 类会自动处理内存管理和字符数组的大小，因此操作更加方便和安全。</p>]]></content><author><name>ZJM</name></author><category term="code/algorithm/basic-knowledge" /><category term="Code" /><summary type="html"><![CDATA[字符串]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/code-cover-8.png" /><media:content medium="image" url="http://localhost:4000/code-cover-8.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">函数</title><link href="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Function/" rel="alternate" type="text/html" title="函数" /><published>2025-01-05T00:00:00+08:00</published><updated>2025-01-05T00:00:00+08:00</updated><id>http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Function</id><content type="html" xml:base="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Function/"><![CDATA[<h1 id="函数"><span style="color: rgb(255,127,80);"><strong>函数</strong></span></h1>

<p>函数是执行特定任务的一组语句。每个 C++ 程序都至少有一个函数，即 <code class="language-plaintext highlighter-rouge">main()</code> 函数。除了 <code class="language-plaintext highlighter-rouge">main()</code> 函数，您还可以根据需要定义其他函数。</p>

<p>将代码划分成多个函数有助于提高程序的结构性和可读性。通常，我们会根据每个函数执行的特定任务来划分代码。</p>

<h3 id="函数声明与定义"><span style="color: rgb(0,191,255);"><strong>函数声明与定义</strong></span></h3>

<p>在 C++ 中，函数由 <strong>声明</strong> 和 <strong>定义</strong> 两部分组成。</p>

<ul>
  <li><strong>函数声明</strong> 告诉编译器函数的名称、返回类型和参数列表。</li>
  <li><strong>函数定义</strong> 提供了函数的实际实现，包含函数主体。</li>
</ul>

<h3 id="函数定义的一般形式"><span style="color: rgb(0,191,255);"><strong>函数定义的一般形式</strong></span></h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">return_type</span> <span class="nf">function_name</span><span class="p">(</span><span class="n">parameter</span> <span class="n">list</span><span class="p">)</span>
<span class="p">{</span>
   <span class="c1">// 函数主体</span>
<span class="p">}</span>
</code></pre></div></div>

<p>其中的组成部分包括：</p>

<ul>
  <li><strong>返回类型</strong>：指定函数返回值的数据类型。如果函数不返回值，使用 <code class="language-plaintext highlighter-rouge">void</code>。</li>
  <li><strong>函数名称</strong>：函数的名字，和参数列表一起构成函数签名。</li>
  <li><strong>参数列表</strong>：定义函数接受的参数，可以是零个或多个。每个参数由类型和名称组成。</li>
  <li><strong>函数主体</strong>：函数的实际操作逻辑，包含一组语句。</li>
</ul>

<h3 id="示例最大值函数"><span style="color: rgb(238,130,238);"><strong>示例：最大值函数</strong></span></h3>

<p>以下是一个求两个整数中较大值的函数 <code class="language-plaintext highlighter-rouge">max()</code>：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 函数返回两个数中较大的那个数</span>
<span class="kt">int</span> <span class="nf">max</span><span class="p">(</span><span class="kt">int</span> <span class="n">num1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num2</span><span class="p">)</span> 
<span class="p">{</span>
   <span class="c1">// 局部变量声明</span>
   <span class="kt">int</span> <span class="n">result</span><span class="p">;</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">num1</span> <span class="o">&gt;</span> <span class="n">num2</span><span class="p">)</span>
      <span class="n">result</span> <span class="o">=</span> <span class="n">num1</span><span class="p">;</span>
   <span class="k">else</span>
      <span class="n">result</span> <span class="o">=</span> <span class="n">num2</span><span class="p">;</span>
   <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>该函数接受两个整数参数 <code class="language-plaintext highlighter-rouge">num1</code> 和 <code class="language-plaintext highlighter-rouge">num2</code>，并返回较大的数。</p>

<h3 id="函数声明"><span style="color: rgb(0,191,255);"><strong>函数声明</strong></span></h3>

<p>函数声明用于告诉编译器如何调用一个函数，包括函数名和参数类型，而不涉及函数的具体实现。函数声明的一般形式为：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">return_type</span> <span class="nf">function_name</span><span class="p">(</span><span class="n">parameter</span> <span class="n">list</span><span class="p">);</span>
</code></pre></div></div>

<p>对于 <code class="language-plaintext highlighter-rouge">max()</code> 函数，声明如下：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">max</span><span class="p">(</span><span class="kt">int</span> <span class="n">num1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num2</span><span class="p">);</span>
</code></pre></div></div>

<p><strong>注意</strong>：在函数声明中，参数的名称并非必须，只有参数的类型是必要的。例如，下面的声明也是有效的：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">max</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
</code></pre></div></div>

<p>如果您在一个文件中定义了函数，并在另一个文件中调用它，那么需要在调用前声明该函数。</p>

<h3 id="调用函数"><span style="color: rgb(0,191,255);"><strong>调用函数</strong></span></h3>

<p>在程序中，我们通过调用函数来执行已定义的任务。当函数被调用时，程序的控制权转移到被调用的函数。当函数完成任务后，控制权会返回给主程序。</p>

<p>例如，下面的代码展示了如何调用 <code class="language-plaintext highlighter-rouge">max()</code> 函数：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="c1">// 函数声明</span>
<span class="kt">int</span> <span class="nf">max</span><span class="p">(</span><span class="kt">int</span> <span class="n">num1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num2</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
   <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">ret</span><span class="p">;</span>
   <span class="c1">// 调用函数来获取最大值</span>
   <span class="n">ret</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
   <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Max value is : "</span> <span class="o">&lt;&lt;</span> <span class="n">ret</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// 函数定义</span>
<span class="kt">int</span> <span class="nf">max</span><span class="p">(</span><span class="kt">int</span> <span class="n">num1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num2</span><span class="p">)</span>
<span class="p">{</span>
   <span class="kt">int</span> <span class="n">result</span><span class="p">;</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">num1</span> <span class="o">&gt;</span> <span class="n">num2</span><span class="p">)</span>
      <span class="n">result</span> <span class="o">=</span> <span class="n">num1</span><span class="p">;</span>
   <span class="k">else</span>
      <span class="n">result</span> <span class="o">=</span> <span class="n">num2</span><span class="p">;</span>
   <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出结果：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Max value is </span><span class="pi">:</span> <span class="m">200</span>
</code></pre></div></div>

<h3 id="函数参数"><span style="color: rgb(0,191,255);"><strong>函数参数</strong></span></h3>

<p>函数可以使用参数进行灵活操作。参数可以通过三种方式传递给函数：</p>

<ol>
  <li><strong>传值调用</strong>：将实际值传递给形式参数。函数内修改形式参数不会影响实际参数。</li>
  <li><strong>指针调用</strong>：将参数的地址传递给函数，函数通过指针修改实际参数。</li>
  <li><strong>引用调用</strong>：将参数的引用传递给函数，函数修改引用会直接影响实际参数。</li>
</ol>

<h3 id="参数的默认值"><span style="color: rgb(0,191,255);"><strong>参数的默认值</strong></span></h3>

<p>C++ 允许为函数参数指定默认值。若调用函数时未提供某个参数，则会使用默认值。</p>

<p>例如，下面的 <code class="language-plaintext highlighter-rouge">sum()</code> 函数为第二个参数指定了默认值：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">sum</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
   <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">result</span><span class="p">;</span>

   <span class="c1">// 调用函数，传入两个参数</span>
   <span class="n">result</span> <span class="o">=</span> <span class="n">sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
   <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Total value is : "</span> <span class="o">&lt;&lt;</span> <span class="n">result</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

   <span class="c1">// 调用函数，只传入一个参数</span>
   <span class="n">result</span> <span class="o">=</span> <span class="n">sum</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
   <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Total value is : "</span> <span class="o">&lt;&lt;</span> <span class="n">result</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span style="color: rgb(238,130,238);"><strong>输出结果：</strong></span></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Total value is </span><span class="pi">:</span> <span class="m">300</span>
<span class="na">Total value is </span><span class="pi">:</span> <span class="m">120</span>
</code></pre></div></div>

<h3 id="lambda-函数与表达式"><span style="color: rgb(0,191,255);"><strong>Lambda 函数与表达式</strong></span></h3>

<p>C++11 引入了 Lambda 函数（也叫 Lambda 表达式），它可以在不定义完整函数的情况下，直接在代码中定义并执行功能。</p>

<p>Lambda 表达式的基本形式如下：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">capture</span><span class="p">](</span><span class="n">parameters</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">return_type</span> <span class="p">{</span> <span class="n">body</span> <span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong>capture</strong>：指定外部变量的访问方式（按值传递或按引用传递）。</li>
  <li><strong>parameters</strong>：函数参数（可选）。</li>
  <li><strong>return_type</strong>：返回类型（可选）。</li>
  <li><strong>body</strong>：函数体。</li>
</ul>

<h4 id="示例-1简单-lambda-表达式"><span style="color: rgb(32,178,170);"><strong>示例 1：简单 Lambda 表达式</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="n">lambda</span> <span class="o">=</span> <span class="p">[](</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span> <span class="p">};</span>
<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">lambda</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 输出 15</span>
</code></pre></div></div>

<h4 id="示例-2带默认值的-lambda-表达式"><span style="color: rgb(32,178,170);"><strong>示例 2：带默认值的 Lambda 表达式</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="k">auto</span> <span class="n">lambda</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">]()</span> <span class="p">{</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span> <span class="p">};</span>
<span class="n">lambda</span><span class="p">();</span>
<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">y</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 输出 30</span>
</code></pre></div></div>

<p>在 Lambda 表达式中，<code class="language-plaintext highlighter-rouge">[]</code> 部分用来捕获外部变量。如果没有捕获任何外部变量，可以写成 <code class="language-plaintext highlighter-rouge">[]</code>，如果需要捕获外部变量，则可以指定捕获方式（按值传递 <code class="language-plaintext highlighter-rouge">=</code>，按引用传递 <code class="language-plaintext highlighter-rouge">&amp;</code>）。</p>

<h4 id="示例-3使用-this-指针的-lambda-表达式"><span style="color: rgb(32,178,170);"><strong>示例 3：使用 <code class="language-plaintext highlighter-rouge">this</code> 指针的 Lambda 表达式</strong></span></h4>

<p>如果 Lambda 表达式要访问类中的成员函数或变量，可以显式传入 <code class="language-plaintext highlighter-rouge">this</code> 指针：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Example</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">show</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">lambda</span> <span class="o">=</span> <span class="p">[</span><span class="k">this</span><span class="p">]()</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">};</span>
        <span class="n">lambda</span><span class="p">();</span>
    <span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div>]]></content><author><name>ZJM</name></author><category term="code/algorithm/basic-knowledge" /><category term="Code" /><summary type="html"><![CDATA[函数]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/code-cover-8.png" /><media:content medium="image" url="http://localhost:4000/code-cover-8.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">判断结构</title><link href="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Judgment-Structure/" rel="alternate" type="text/html" title="判断结构" /><published>2025-01-05T00:00:00+08:00</published><updated>2025-01-05T00:00:00+08:00</updated><id>http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Judgment%20Structure</id><content type="html" xml:base="http://localhost:4000/code/algorithm/basic-knowledge/2025/01/05/Judgment-Structure/"><![CDATA[<h1 id="判断结构"><span style="color: rgb(255,127,80);"><strong>判断结构</strong></span></h1>

<p>在 C++ 中，判断结构用于评估一个或多个条件，并根据条件的结果来决定执行哪些语句。常见的判断结构有多种形式，每种形式适用于不同的情况。以下是 C++ 中常见的判断结构以及示例：</p>

<h3 id="1-if-语句"><span style="color: rgb(0,191,255);"><strong>1. <code class="language-plaintext highlighter-rouge">if</code> 语句</strong></span></h3>

<p><code class="language-plaintext highlighter-rouge">if</code> 语句用于判断一个条件是否为真。如果条件为真，执行相应的代码块。</p>

<h4 id="语法"><span style="color: rgb(238,130,238);"><strong>语法：</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// 如果 condition 为真，执行此语句块</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="示例"><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"你已经成年了。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>在这个例子中，<code class="language-plaintext highlighter-rouge">if</code> 语句判断变量 <code class="language-plaintext highlighter-rouge">age</code> 是否大于或等于 18。如果条件成立（<code class="language-plaintext highlighter-rouge">age</code> &gt;= 18），则输出 <code class="language-plaintext highlighter-rouge">"你已经成年了。"</code>。</p>

<h3 id="2-ifelse-语句"><span style="color: rgb(0,191,255);"><strong>2. <code class="language-plaintext highlighter-rouge">if...else</code> 语句</strong></span></h3>

<p><code class="language-plaintext highlighter-rouge">if...else</code> 语句在 <code class="language-plaintext highlighter-rouge">if</code> 条件为假时，执行 <code class="language-plaintext highlighter-rouge">else</code> 后面的代码块。</p>

<h4 id="语法-1"><span style="color: rgb(238,130,238);"><strong>语法：</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span> 
<span class="p">{</span>
    <span class="c1">// 如果 condition 为真，执行此语句块</span>
<span class="p">}</span> 
<span class="k">else</span>
<span class="p">{</span>
    <span class="c1">// 如果 condition 为假，执行此语句块</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="示例-1"><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">)</span> 
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"你已经成年了。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span> 
<span class="k">else</span> 
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"你还未成年。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>在这个例子中，如果 <code class="language-plaintext highlighter-rouge">age</code> 大于或等于 18，则输出 <code class="language-plaintext highlighter-rouge">"你已经成年了。"</code>；否则，输出 <code class="language-plaintext highlighter-rouge">"你还未成年。" </code>。</p>

<h3 id="3-嵌套-if-语句"><span style="color: rgb(0,191,255);"><strong>3. 嵌套 <code class="language-plaintext highlighter-rouge">if</code> 语句</strong></span></h3>

<p>可以在 <code class="language-plaintext highlighter-rouge">if</code> 或 <code class="language-plaintext highlighter-rouge">else</code> 语句内嵌套其他的 <code class="language-plaintext highlighter-rouge">if</code> 或 <code class="language-plaintext highlighter-rouge">else</code> 语句，以处理更复杂的条件判断。</p>

<h4 id="示例-2"><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">21</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"你已经成年且可以合法饮酒。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"你已经成年，但不能合法饮酒。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"你还未成年。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>这里，首先判断是否成年，然后在成年基础上判断是否可以合法饮酒。</p>

<h3 id="4-switch-语句"><span style="color: rgb(0,191,255);"><strong>4. <code class="language-plaintext highlighter-rouge">switch</code> 语句</strong></span></h3>

<p><code class="language-plaintext highlighter-rouge">switch</code> 语句用于测试一个变量是否等于多个值中的某一个。它适用于多个条件的判断。</p>

<h4 id="语法-2"><span style="color: rgb(238,130,238);"><strong>语法：</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">switch</span> <span class="p">(</span><span class="n">variable</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">case</span> <span class="n">value1</span><span class="p">:</span>
        <span class="c1">// 如果 variable == value1，执行此语句块</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="n">value2</span><span class="p">:</span>
        <span class="c1">// 如果 variable == value2，执行此语句块</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="nl">default:</span>
        <span class="c1">// 如果 variable 不等于任何 case，执行此语句块</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="示例-3"><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">day</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="k">switch</span> <span class="p">(</span><span class="n">day</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"今天是星期一。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"今天是星期二。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"今天是星期三。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="nl">default:</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"输入无效。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>在这个例子中，<code class="language-plaintext highlighter-rouge">switch</code> 语句根据变量 <code class="language-plaintext highlighter-rouge">day</code> 的值选择匹配的 <code class="language-plaintext highlighter-rouge">case</code>，并执行相应的代码块。</p>

<h3 id="5-嵌套-switch-语句"><span style="color: rgb(0,191,255);"><strong>5. 嵌套 <code class="language-plaintext highlighter-rouge">switch</code> 语句</strong></span></h3>

<p><code class="language-plaintext highlighter-rouge">switch</code> 语句也可以嵌套，即在一个 <code class="language-plaintext highlighter-rouge">case</code> 或 <code class="language-plaintext highlighter-rouge">default</code> 分支内使用另一个 <code class="language-plaintext highlighter-rouge">switch</code> 语句。</p>

<h4 id="示例-4"><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">choice</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">subChoice</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="k">switch</span> <span class="p">(</span><span class="n">choice</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">subChoice</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"选择了选项1的子选项1。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"选择了选项1的子选项2。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"选择了选项2。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"无效选择。"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>这个例子展示了在 <code class="language-plaintext highlighter-rouge">switch</code> 语句中的 <code class="language-plaintext highlighter-rouge">case</code> 选项内嵌套另一个 <code class="language-plaintext highlighter-rouge">switch</code> 语句。</p>

<h3 id="6-条件运算符--"><span style="color: rgb(0,191,255);"><strong>6. 条件运算符 <code class="language-plaintext highlighter-rouge">? :</code></strong></span></h3>

<p>条件运算符 <code class="language-plaintext highlighter-rouge">? :</code>，又称三目运算符，是一种简洁的方式来替代 <code class="language-plaintext highlighter-rouge">if...else</code> 语句。它的形式如下：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">condition</span> <span class="o">?</span> <span class="n">expression1</span> <span class="o">:</span> <span class="n">expression2</span><span class="p">;</span>
</code></pre></div></div>

<p>如果 <code class="language-plaintext highlighter-rouge">condition</code> 为真，则计算并返回 <code class="language-plaintext highlighter-rouge">expression1</code>，否则计算并返回 <code class="language-plaintext highlighter-rouge">expression2</code>。</p>

<h4 id="示例-5"><span style="color: rgb(238,130,238);"><strong>示例：</strong></span></h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">18</span><span class="p">;</span>
<span class="n">string</span> <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">)</span> <span class="o">?</span> <span class="s">"你已经成年了。"</span> <span class="o">:</span> <span class="s">"你还未成年。"</span><span class="p">;</span>
<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">result</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</code></pre></div></div>

<p>在这个例子中，三目运算符判断 <code class="language-plaintext highlighter-rouge">age</code> 是否大于或等于 18。如果条件成立，返回 <code class="language-plaintext highlighter-rouge">"你已经成年了。"</code>，否则返回 <code class="language-plaintext highlighter-rouge">"你还未成年。" </code>。</p>]]></content><author><name>ZJM</name></author><category term="code/algorithm/basic-knowledge" /><category term="Code" /><summary type="html"><![CDATA[判断结构]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/code-cover-8.png" /><media:content medium="image" url="http://localhost:4000/code-cover-8.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>